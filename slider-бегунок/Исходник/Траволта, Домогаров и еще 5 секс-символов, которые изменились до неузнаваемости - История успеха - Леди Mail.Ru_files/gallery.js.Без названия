!function(e,t){"use strict";var s=t.Basic,a=s.typeOf,r=s.Extend,i=t.Tools.Images,n={_Handlers:null,preloadDepth:null,preloadTimeout:2e4,Loop:!1,imageProps:null,urlSeparator:"|",imageType:"pic"},o=s.Constructors.getModel(function(){function e(e){this.loading=!0,e&&(this.width=e.width,this.height=e.height)}function t(){delete this.loading}function n(s,a){var r;return"loading"in s||(r=i.canPreload(s.type),r?s.loading=i.preloadImage(s.src,a).done(e.bind(s)).fail(t.bind(s)):s.loading=r),s.loading}function o(e,t){var s=this._Current;return s.image===e&&s.set===t}function c(e,t){var s,a,r=this._Opts.preloadDepth;if(r>0&&o.call(this,e,t)){s=this._getCurrentSetImages();for(var i=e+r;i>=e-r;i--)a=this._getImageId(i),a!=e&&this._startPreload(s[a],a,t)}}function l(e,t,s,r){var i,n;o.call(this,t,s)&&(n=!a(r,"undefined"),n?(i=this._getCurrentSetImages(),this._trigger("imageready",i[t],t,s,e)):this._trigger("imagefail",t,s,e))}function m(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.addImagesSet(e[t]);else a(e,"object")&&this.addImagesSet(e)}function h(e,t,s){var a,n=e.split(t),o=n[2],c={src:n[0],type:o};return o&&i.isTypeCorrect(o)||(c.type=o=i.getImageTypeFromUrl(n[0])||s),o?(a=n[1])&&(a=a.split("x")).length>1&&r(c,{width:1*a[0],height:1*a[1]}):c=null,c}function g(e){var t,s,i=[],n=this._Opts.urlSeparator,o=this._Opts.imageType;Array.isArray(e)||(e=[e]);for(var c=0;c<e.length;c++)t=e[c],s=a(t,"object")?r({type:o},t):a(t,"string")&&t.length>0?h(t,n,o):null,s&&i.push(s);return i}function u(e){var t=e.source;a(t,"string")&&(e.source=t=t.split("|")),Array.isArray(t)&&t[0]||delete e.source}function p(e){for(var t,s,r,i,n=[],o=this.getImagePropsList(),c=0;c<e.length;c++){if(t=e[c],i={},a(t,"object")){s=t.url||t.image;for(var l=o.length;l--;)r=o[l],t.hasOwnProperty(r)&&(i[r]=t[r]);"source"in i&&u(i)}else s=t;s=g.call(this,s),s.length&&(i.versions=s,n.push(i))}return n}function f(e,t,s,a){for(var r,i=this._isValidId(a),n=e.length;n--;)r=l.bind(this,i?a:n,t,s),e[n].then(r,r)}var d=["title","source","description"],_={};return{_Events:["setchange","setimageschange","imagechange","imageready","imagefail","imageloaded","imageloading","lastimage"],_Init:function(e){var t,s=this._Opts.imageProps,a=this._aImageProps=d.slice(0);if(this._setsParams=[],this._setsImages=[],this._Current={set:null,image:null},Array.isArray(s))for(var r=s.length;r--;)t=s[r],-1===a.indexOf(t)&&a.push(t);m.call(this,e)},_getSetImages:function(e){var t=this._setsImages,s=null;return null===e&&(e=this._Current.set),this._isAvailibleId(e,t)&&(s=this._setsImages[e]),s},_preloadCurImage:function(e,t){var s=this._Current.set,a=this._startPreload(t,e,s),r=c.bind(this,e,s);return f.call(this,a,e,s),Promise.all(a).then(r,r)},_startPreload:function(e,t,s,a){for(var r,i,o,c=this._Opts.preloadTimeout,l=e.versions,m=[],h=0;h<l.length;h++)this._isValidId(a)&&h!==a||(i=l[h],o=!("loading"in i),r=Promise.resolve(n(i,c)),o&&(this._trigger("imageloading",e,t,s,h),r.then(this._trigger.bind(this,"imageloaded",e,t,s,h))),m.push(r));return m},_getImageId:function(e){var t,s=this._getCurrentSetImages(),a=(s&&s.length||0)-1;return this._Opts.Loop===!0?(t=a+1,e%=t,0>e&&(e+=t)):e=Math.max(0,Math.min(e,a)),e},_isValidId:function(e){return null!==e&&!isNaN(e)},_isAvailibleId:function(e,t){return this._isValidId(e)&&e in t},_getCurrentSetImages:function(){return this._getSetImages(null)},_getCurrentSetParams:function(){return this.getSetParams(null)},getImageParams:function(e,t){return e=isNaN(e)?this._Current.set:+e,t=isNaN(t)?this._Current.image:+t,s.getByPath([e,t],this._setsImages)},getCurrentImageParams:function(){return this.getImageParams(this._Current.set,this._Current.image)},reloadImage:function(e,t,s){var a;this._isValidId(s)||(s=this._Current.set),this._isAvailibleId(e,this._getCurrentSetImages())&&(a=this._startPreload(this.getImageParams(s,e),e,s,t),f.call(this,a,e,s,t))},addImagesSet:function(e){var t=this._setsParams,s=this._setsImages,a=e&&e.images,r=-1;return Array.isArray(a)&&(r=s.length,a=p.call(this,a,r),a.length?(s.push(a),delete e.images,t[r]=e):r=-1),r},addImages:function(e,t,s){var a=this._setsImages,i=!0;t=this._isAvailibleId(t,a)?t:this._Current.set,null===t&&(t=this.addImagesSet({images:e}),i=!1);var n,o,c,l=a[t],m={imagesAdded:!1};return Array.isArray(e)&&(e=p.call(this,e,t),c=e.length,c&&(s?(n="unshift",m.indexFirst=0,m.indexLast=c-1):(n="push",o=l.length,m.indexFirst=o,m.indexLast=o+c-1),i&&Array.prototype[n].apply(l,e),r(m,{imagesAdded:!0,setLength:l.length,setId:t,newImages:e}),this._trigger("setimageschange",m))),m},changeSet:function(e){var t=this._Current,s=this._isAvailibleId(e,this._setsImages)&&e!=t.set;return s&&(t.set=1*e,t.image=null,this._trigger("setchange",this._setsParams[e],e)),s},changeImage:function(e){var t,s,a,r=this._Current,i=this._getCurrentSetImages(),n=!1;return i&&this._isValidId(e)&&(e=+e,e=this._getImageId(e),n=e!=r.image,n&&(r.image=e,t=i[e],this._trigger("imagechange",t,e,r.set),this._Opts.Loop!==!0&&(s=e===i.length-1,a=0===e,(s||a)&&this._trigger("lastimage",s,a)),this._preloadCurImage(e,t))),n},nextImage:function(){return this.changeImage(this._Current.image+1)},prevImage:function(){return this.changeImage(this._Current.image-1)},getImagePropsList:function(){return this._aImageProps.slice(0)},getCurrentImage:function(){var e=this._Current,t=this._getCurrentSetImages();return{image:e.image,set:e.set,setLength:t&&t.length||0}},getImageProps:function(e,t){var s=this._Current,a=this._setsImages,i=null,n=this._isValidId,o=this._isAvailibleId.bind(this);return e=n(e)?e:s.image,t=n(t)?t:s.set,o(t,a)&&o(e,a[t])&&(i=r(!0,{},a[t][e]),delete i.versions),i},isImageReady:function(e,t,s){var r,i,n=this._Current,o=this._isAvailibleId.bind(this),c=!1;return o(t,this._setsImages)||(t=n.set,null!==t)?(r=this._setsImages[t],o(e,r)||(e=n.image),i=r[e],i&&o(s,i.versions)&&(c=a(i.versions[s].loading,"boolean")),c?i:c):!1},getSetParams:function(e){var t=this._setsParams,s=null;return null===e&&(e=this._Current.set),this._isAvailibleId(e,t)&&(s=r(!0,{},t[e])),s},addToCache:function(e,t){return t?void(_[t+""]=e):void(DEBUG&&console.error("Для кэширования данных необходимо имя ключа!"))},getFromCache:function(e){return _[e+""]}}}(),n,null,"Gallery");r(e.getNameSpace("Modules",t),{Gallery:o})}(this,this.ru.mail.cpf),function(e,t,s){var a=s.Basic,r=a.typeOf,i=a.Extend,n={cssSels:{Main:{imageView:null,imageNum:null,imagesTotal:null},reloadImage:".js-photo_reload",imageProps:null,setProps:null},cssClss:{Loading:null,Error:null},useClickHandler:!0,onImgClick:null,infoAppend:{},resizeView:!0,imagesSet:0,imagesVersion:0,flashParams:null},o=a.getView(function(){function s(t,s,a){var i,n,o,c,l,m,h=this._opts.infoAppend;Array.isArray(a)||(a=Object.keys(t));for(var g=a.length;g--;)i=a[g],i in t&&(n=t[i],r(n,"string")&&(n=this._getViewParent().find(n)),n instanceof e&&n.length&&(o=s[i],l=r(o),m=h[i],"boolean"===l?n.toggle(o):r(m,"function")?m.call(this,n,o):(c=null!==o&&"undefined"!==l&&!("string"===l&&0===o.length),n.toggle(c),c&&("A"===n.get(0).tagName?n.attr("href",o):n.html(o)))))}function a(t,s){return s?"nodeType"in s?e(s):s:t}var n=function(e){return"background-size"in e||"backgroundSize"in e}(document.createElement("div").style),o=["width","height"],c=o.reduce(function(e,t){return e[t]="",e},{});return{_Handlers:{dom:{"click:Main.imageView":"_onImageClick","click:reloadImage":function(e){this._model.reloadImage(this._model.getCurrentImage().image,this._opts.imagesVersion),e.preventDefault()}},model:{imagechange:"_onImageChange",imageready:"_onImageReady",imagefail:"_onImageFail",setchange:"_onSetChange"}},_Init:function(){var e,t=this._opts,s=t.imagesSet;if(this._imagesSet=null===s?s:1*s,this._imagesVersion=+t.imagesVersion,(e=isNaN(this._imagesSet))||isNaN(this._imagesVersion))throw new TypeError("imagesSet");null!==s&&this._toggleSetInfo(this._Model.getSetParams(s),s)},_onSetChange:function(e,t){null===this._imagesSet&&this._toggleSetInfo(e,t)},_setImageToView:function(s,a,i){var n,o,c,l,m=this._opts,h=m.resizeView===!0,g=r(t.swfobject,"undefined")?null:t.swfobject,u=s.src;switch(i=this._getViewElement(i),i.empty(),s.type){case"pic":"IMG"===i.get(0).tagName?i.attr("src")!==u&&(l=i.clone(!0).attr("src",u),i.replaceWith(l),this._setViewElement(l)):(c={"background-image":"url("+u+")"},h&&"cover"!==i.css("background-size")&&(c["background-size"]=a.width+"px "+a.height+"px"),i.css(c));break;case"flash":if(!g)break;o=i.children(),o.length&&(n=o.attr("id"))||(n="flash_pic_"+(new Date).getTime(),e('<div id="'+n+'"></div>').appendTo(i)),g.embedSWF(u,n,a.width,a.height,"9.0.0",null,null,m.flashParams)}return l||i},_prepareViewElement:function(e,t){var s,a=null,r=1;t=this._getViewElement(t),t.css(c);for(var i=o.length;i--&&(s=o[i]);)r=Math.min(r,t[s]()/e[s]);if(1>r)for(a={},i=o.length;i--&&(s=o[i]);)a[s]=Math.round(e[s]*r);return a},_normilizeImageViewElem:function(t,s,a){a=this._getViewElement(a);var r,i=a.get(0),o="IMG"===i.tagName,c="pic"===t&&!o&&s&&!n,l=!c&&"pic"!=t&&o;return(c||l)&&(r=e(c?"<img>":"<div>").addClass(i.className),a.replaceWith(r),this._setViewElement(r)),r||a},_processViewSizes:function(e,t,s){s=this._getViewElement(s),s.css(t||c)},_getTargetElement:a,_getViewParent:function(e){return a(this._elems.parent,e)},_getViewElement:function(e){return a(this._elems.imageView,e)},_setViewElement:function(e){this._elems.imageView=e},_showImageVersion:function(e,t){var s=this._opts.resizeView===!0,a=this._prepareViewElement(e,t),r=a||{width:e.width,height:e.height};s&&(t=this._normilizeImageViewElem(e.type,null!==a,t)),t=this._setImageToView(e,r,t),s&&this._processViewSizes(e,r,t)},_switchViewState:function(e,t,s){var a=this._opts.cssClss;s=this._getViewParent(s),t=!e&&t===!0,a.Loading&&s.toggleClass(a.Loading,t),a.Error&&s.toggleClass(a.Error,e)},_onImageReady:function(e,t,s,a){this._isTargetImage(s,a)&&(this._switchViewState(!1,!1),this._showImageVersion(e.versions[a]))},_toggleImageInfo:function(e,t){var a=this._opts.cssSels.imageProps,i=this._Model.getImagePropsList(),n=this._elems.imageNum;n&&n.text(t+1),r(a,"object")&&s.call(this,a,e,i)},_toggleSetInfo:function(e,t){var a=i({total:this._Model._getSetImages(t).length},e),r=i({total:this._elems.imagesTotal},this._opts.cssSels.setProps);s.call(this,r,a)},_onImageChange:function(e,t,s){this._isTargetImage(s)&&(this._model.isImageReady(t,s,this._opts.imagesVersion)||this._switchViewState(!1,!0),this._toggleImageInfo(e,t))},_onImageFail:function(e,t,s){this._isTargetImage(t,s)&&this._switchViewState(!0)},_onImageClick:function(){var e=this._opts;e.useClickHandler&&(r(e.onImgClick,"function")?e.onImgClick.apply(this,arguments):(this._normalizeModelImage(),this._Model.nextImage()))},_isTargetImage:function(e,t){var s=this._imagesSet;return(null===s||e===s)&&(r(t,"undefined")||t===this._imagesVersion)},_normalizeModelImage:function(){var e=this._Model,t=e.getCurrentImage(),s=this._imagesSet;(null!==s&&t.set!=s||null===t.set)&&e.changeSet(s||0),null===t.image&&e.changeImage(0)}}}(),n,null,"ImageView");a.Extend(!0,s,{Modules:{GalleryImageView:o}})}(this.jQuery||this.$||this.$f,this,this.ru.mail.cpf),function(e,t,s,a){"use strict";var r="GalleryControls",i=s.Basic.Constructors.getView,n=s.Basic.Extend,o=s.Basic.moduleOpts.setParams,c={cssSels:{Main:{Controls:null}},cssClss:{disabledControl:null},Attrs:{switchDirection:"data-direction"}},l=i(function(){var t=["prev","next"];return{_Handlers:{"dom:click:Main.Controls":"_onControlClick",model:{lastimage:"_onLastImage",imagechange:"_onImageChange"}},_Init:function(){null===this._elems.Controls&&a&&console.warn(r+": element 'Main.Controls' not found");var e=this._Model.getCurrentImage(),t=e.image,s=this._Model._Opts.Loop,i=0===t,n=t===e.setLength-1;(!s&&null!==t||i&&n)&&(i||n)&&this._onLastImage(n,i)},_onControlClick:function(e){var s=this._Model,a=e.currentTarget.getAttribute(this._Opts.Attrs.switchDirection)===t[1],r=s.getCurrentImage(),i=r.image;null===r.set&&s.changeSet(0),null===i&&(i=0,s.changeImage(i)),s.changeImage(i+(a?1:-1)),e.preventDefault()},_onLastImage:function(s,a){if(null!==this._elems.Controls){var r=this._Elems.Controls,i=this._Opts,n=i.cssClss.disabledControl,o=i.Attrs.switchDirection,c=e.map(t,function(e,t){return(0===t?a:s)?e:null});r.each(function(){var t=a&&s||-1!==c.indexOf(this.getAttribute(o));e(this).toggleClass(n,t)})}},_onImageChange:function(){this._elems.Controls&&this._Elems.Controls.removeClass(this._Opts.cssClss.disabledControl)}}}(),c,null,r);n(!0,s,{Modules:{GalleryControls:l}}),o(r,{acceptTypes:["Gallery"]})}(this.jQuery||this.$,this,this.ru.mail.cpf,this.DEBUG),function(e,t,s){var a=s.Basic,r=a.Extend,i=a.typeOf,n=a.getOptions,o={cssSels:{Main:{Preview:".js-preview-list__item"}},cssClss:{currentPreview:null},Attrs:{imageVersions:null,imageProps:null,imageId:"data-image-id"},imagesSet:null,addSetParams:null,useOnclickData:!1},c=a.Constructors.getView(function(){function e(e){for(var t,s,a,r,o,c,l=this._Opts,m=l.Attrs,h=this._Model.getImagePropsList(),g=m.imageVersions,u=m.imageProps,p=[],f=null,d=0;d<g.length;d++){o=g[d].split("|");for(var _=0;_<o.length;_++)if(t=e.getAttribute(o[_])){p.push(t);break}}if(p.length&&(f={url:p},i(u,"object")))for(var y=h.length;y--;)s=h[y],(a=u[s])&&(r=e.getAttribute(a))&&(f[s]=r);if(l.useOnclickData){c=n(e);for(var v in c)c.hasOwnProperty(v)&&-1!==h.indexOf(v)&&(f[v]=c[v])}return f}return{_Handlers:{dom:{"click:Main.Preview":"_onPreviewClick"},model:{imagechange:"_onImageChange"}},_Init:function(){var e,t,s=this._Opts,a=this._Elems.Preview,i=this._Model,n=s.imagesSet||0;this._imagesSet=n,a&&a.length&&(e=this.getImagesFromElems(a),e.length&&(null!==n?i.addImages(e,n):(t=r({images:e},s.addSetParams),this._imagesSet=this._Model.addImagesSet(t))))},getSetId:function(){return this._imagesSet},getImagesFromElems:function(t){return t.toArray().map(e.bind(this)).filter(function(e){return null!==e})},_onPreviewClick:function(e){var t=e.currentTarget,s=t.getAttribute(this._Opts.Attrs.imageId)||this._Elems.Preview.index(t),a=this._Model;a.changeSet(this._imagesSet),a.changeImage(s),e.preventDefault()},_onImageChange:function(e,t,s){var a=this._Opts.cssClss.currentPreview,r=this._imagesSet,i=this._Elems.Preview;i&&(null===r||s===r)&&a&&i.removeClass(a).eq(t).addClass(a)}}}(),o,null,"GalleryPreviews");a.moduleOpts.setParams("GalleryPreviews",{acceptTypes:"Gallery"}),r(!0,s,{Modules:{GalleryPreviews:c}})}(this.jQuery||this.$||this.$f,this,this.ru.mail.cpf),function(e,t,s){var a=s.Basic,r=s.Modules,i="WritableGalleryPreviews",n=a.Constructors.getView(function(){function e(e){var t,s,a=this._previewsVersion,r=[];if(!isNaN(a)&&null!==a)for(var i=0;i<e.length;i++)t=e[i].versions[a],s=null,t?s=t.src:this._Opts.ignoreVersionMiss===!0&&(s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),s&&r.push(s);return r}function s(s){var a=e.call(this,s),r=t.document.createElement("div");return r.innerHTML=this._Opts.Templates.previews({previews:a,current:this._Model.getCurrentImage().image}),r.childNodes}function a(){var e=this._Model._getSetImages(this._imagesSet),t=this._elems,a=t.previewsCont;e&&e.length>1&&(a.html(s.call(this,e)),t.Preview=a.find(this._Opts.cssSels.Main.Preview))}return{_Handlers:{model:{setchange:"_onSetChange"}},_Init:function(){var e=this._Opts,t=e.imagesSet;if(this._imagesSet=t=null===t?t:1*t,this._drawnSet=t||this._Model.getCurrentImage().set,this._previewsVersion=1*e.previewsVersion,isNaN(this._imagesSet))throw new TypeError('Wrong type of "imagesSet" option');a.call(this)},_onSetChange:function(e,t){var s=this._imagesSet;(null===s&&this._drawnSet!==t||s===t)&&(this._drawnSet=t,a.call(this))}}}(),{cssSels:{Main:{previewsCont:null}},previewsVersion:2,ignoreVersionMiss:!1,Templates:{previews:null}},r.GalleryPreviews,i);r[i]=n,a.moduleOpts.setParams(i,{acceptTypes:"Gallery"})}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){var a=s.Basic,r=a.typeOf,i=e(t),n=e(t.document),o=s.Modules.GalleryImageView,c=a.moduleOpts,l={cssSels:{sizeReference:null,Main:{sizeCont:null}},showOnChange:!1,showBanner:!0,sizeLimits:null,setContSize:!0,templates:{block:null},imagesVersion:1,imagesSet:null,Banner:null,bannerId:"default",usePopupLoading:!1,popupExt:"ImageView"},m=a.Constructors.getView(function(){function o(t,s){var a,i,n,c=r(t);switch(c){case"object":n=t instanceof e;case"array":if(t.length>1)for(var l=t.length;l--;)i=o(n?t.eq(l):t[l],s),a&&a>i||(a=i);else a=n?t[s]():o(t[0],s);break;case"number":a=t;break;case"function":a=t()}return a}function c(e,t){var s,a,r={};t=t===!0;for(var i=f.length;i--;)a=s=f[i],t&&(a="outer"+s.charAt(0).toUpperCase()+s.substring(1)),r[s]=e[a]();return r}function l(t,s){var r,i,n=this._opts.cssSels.sizeReference,o=this._elems,c=a.Extend({visibility:"hidden"},t),l=o.sizeReference;if(!n||l&&l.length||(l=s.parents(n).first()),l&&l.length)s.css(c);else{r=s.parents(),i=[];var m=r.filter(function(){var t="visible"!==e(this).css("overflow");return t&&i.push(this.scrollWidth-this.offsetWidth+this.scrollHeight-this.offsetHeight),t});s.css(c),l=m.filter(function(e){return i[e]<this.scrollWidth-this.offsetWidth+this.scrollHeight-this.offsetHeight}).first().children().filter(r),o.sizeReference=l}return l}function h(e){e=this._getViewElement(e);for(var t,s,a,r=this._opts.sizeLimits,m=c(i),h=l.call(this,m,e),g=c(h,!0),u={},p=f.length;p--;)t=f[p],a=Math["width"===t?"max":"min"](m[t],n[t]()),a-=g[t]-m[t],r&&r.hasOwnProperty(t)?(s=o(r[t],t),s=Math.max(s,a)):s=a,u[t]=s;return e.css({visibility:""}),u}function g(e,t){for(var s,a=h.call(this,t),r=null,i=1,n=f.length;n--&&(s=f[n]);)i=Math.min(i,a[s]/e[s]);if(1>i)for(r={},n=f.length;n--&&(s=f[n]);)r[s]=Math.round(e[s]*i);return r}function u(e){this._elems.sizeCont&&this._elems.sizeCont.width(""),m.prototype._parent._showImageVersion.apply(this,e)}function p(e){var t=e.keyCode,s=this._Model;this._state.visible&&(37===t?s.prevImage():(39===t||32===t)&&s.nextImage())}var f=["width","height"];return{_Handlers:{"dom:keydown:document":p},_Events:["show","hide"],_parentElement:function(){var t=null;return r(this._opts.templates.block,"function")&&(t=e(this._opts.templates.block.call(this))),t},_Init:function(){this._state=a.Extend(!0,this._state||{},{visible:!1}),this._popup=null,this._elems.sizeCont||this._opts.setContSize===!1||(this._elems.sizeCont=this._elems.parent)},_prepareViewElement:function(e,t){var s;return this._state.visible&&(this._hideBanner(),s=g.call(this,e,t)),s},_switchViewState:function(e,t){t=!e&&t===!0,this._state.visible&&(m.prototype._parent._switchViewState.apply(this,arguments),this._opts.usePopupLoading!==!1&&(t?this._popup.getOverlay().showLoading():this._popup.getOverlay().toggleBlock(this._elems.parent)))},_onImageReady:function(e,t,s,a){this._isTargetImage(s,a)&&(this._state.image=e.versions[a],this._state.visible&&(this._resetReadyStateFor(e.versions[this._opts.imagesVersion]),this._opts.showBanner&&this._showBanner(),m.prototype._parent._onImageReady.apply(this,arguments)))},_onImageChange:function(e,s,a){var r=this._opts.showOnChange===!0,i=this._state,n=i.visible;this._isTargetImage(a)&&(delete i.image,t.cancelAnimationFrame(i.showRequest),n?m.prototype._parent._onImageChange.apply(this,arguments):r&&this.Show())},_initPopup:function(){this._popup=s.Tools.initModule(["Popup",this._opts.popupExt],this._elems.parent,{_Handlers:{show:this._onPopupToggle.bind(this,!0),hide:this._onPopupToggle.bind(this,!1)}})},_getPopupInstance:function(){var e=this._popup;return e||(this._initPopup(),e=this._popup),e},_onPopupToggle:function(e){var t,s,a,r=this._state,i=this._Model;r.visible=e,e?(t=i.getCurrentImage(),s=t.image,a=t.set,this._toggleSetInfo(i.getSetParams(a),a),this._toggleImageInfo(i._getCurrentSetImages()[s],s),"image"in r?this._showCurrentImage():this._switchViewState(!1,!0)):this._clearImageView(),this._trigger(e?"show":"hide")},_showCurrentImage:function(){this._showImageVersion(this._state.image)},_clearImageView:function(){this._getViewElement().empty()},_showImageVersion:function(){this._state.showRequest=t.requestAnimationFrame(u.bind(this,Array.prototype.slice.call(arguments)))},_processViewSizes:function(e,t){m.prototype._parent._processViewSizes.apply(this,arguments),this._elems.sizeCont&&this._elems.sizeCont.width(t.width)},_onImageClick:function(){this._normalizeModelImage(),this._model.nextImage()||this._getPopupInstance().hide()},_hideBanner:function(){var e=this._popup.getOverlay();e&&e.hideBanner&&e.hideBanner(this._opts.bannerId)},_showBanner:function(){if(this._opts.showBanner){var e=this._popup.getOverlay();e&&e.showBanner&&e.showBanner(this._opts.bannerId,!0)}},isVisible:function(){return this._state.visible===!0},Show:function(){this._normalizeModelImage(),this._getPopupInstance().show()},Hide:function(){this._getPopupInstance().hide()},showLoading:function(){this._getPopupInstance().getOverlay().showLoading()},addOptions:function(e){return r(e,"object")&&a.Extend(!0,this._opts,e),this}}}(),l,o,"PopupGalleryView");a.Constructors.getView({_Handlers:{"dom:click:showPopup":function(e){e.preventDefault();var t=this._popupView;t&&t.Show()}},_Init:function(){this._popupView=this._elems.Parent.data("PopupGalleryView")}},{cssSels:{showPopup:".js-show_photo"}},null,"ShowGalleryPopup"),c.setParams("ShowGalleryPopup",{acceptTypes:"Gallery"}),c.setParams("PopupGalleryView",{initializer:function(e,t,s){return new m(e,null,s)},acceptTypes:"Gallery"}),a.Extend(!0,s,{Modules:{PopupGalleryView:m}})}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){var a=s.Basic,r="PopupGalleryView";a.Constructors.addPlugin(r,function(){return{_initPopup:function(){return s.Tools.initModule(["GalleryControls",this._opts.controlsExt],this._elems.parent,null,null,[{type:"Gallery",instance:this._model}]),this._super.apply(this,arguments)}}}(),{controlsExt:r},"Controls")}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){"use strict";var a="PopupGalleryView",r=s.Basic.Constructors.addPlugin,i=s.Basic.debounce,n=s.Tools.initModule;r(a,function(){function e(){var e=this._model.getCurrentImage(),t=e.setLength>1&&this._previews&&this._previews._Elems.Preview.length>0;this._opts.cssClss.hasPreviews?this._elems.parent.toggleClass(this._opts.cssClss.hasPreviews,t):this._elems.previewsCont.toggle(t)}function t(){var e=this._Elems.previewsCont,t=this._model.getCurrentImage();if(!this._previewsSlider&&t.setLength>1&&e&&e.length&&(this._previews=n(["WritableGalleryPreviews",this._opts.previewExt],e,null,null,[{instance:this._model,type:"Gallery"}]),this._previewsSlider=n(["Slider",this._opts.previewSliderExt],e),this._previewsSlider)){var s=i(this._previewsSlider.update.bind(this._previewsSlider,!0,!1,!0),500);s(),this._previewsSlider.getFrames().find("img").each(function(){this.complete||(this.onload=s)})}}return{_Handlers:{model:{imagechange:function(e,t,s){var a=this._previewsSlider;this._isTargetImage(s)&&!this._setChanged&&a&&a.goToFrame(t,!this._state.visible)},setchange:function(s){this._isTargetImage(s)&&null!==this._Popup&&(this._previewsSlider?this._previewsSlider.update():t.call(this),e.call(this),this._setChanged=!0)}}},_initPopup:function(){return t.call(this),e.call(this),this._super.apply(this,arguments)},_showImageVersion:function(){this._super.apply(this,arguments),this._setChanged=!1},_processViewSizes:function(){var e=this._previewsSlider;this._super.apply(this,arguments),e&&e.update()}}}(),{cssSels:{Main:{previewsCont:null}},cssClss:{hasPreviews:null},previewSliderExt:a+"Previews",previewExt:a},"SliderPreviews")}(this.jQuery,this,this.ru.mail.cpf),function(e,t){"use strict";function s(e){n(e,"string")&&setTimeout(function(){r.replaceState(null,o,e)},1)}function a(e,t){var a=this._Opts.urlReplace,r=e[a.urlProp],i="#"!==r?r:c;a.canReplace&&(s(i),a.changeOriginalUrl&&0===t&&(c=i))}var r=e.history,i=t.Basic,n=i.typeOf,o=e.document.title,c=e.location.href,l={urlReplace:{urlProp:"share_url",canReplace:!0,changeOriginalUrl:!1}};r.replaceState&&i.Constructors.addPlugin("PopupGalleryView",{_Handlers:{model:{imagechange:function(e,t,s){this._isTargetImage(s)&&this._state.visible&&a.call(this,e,s)}},hide:function(){this._Opts.urlReplace.canReplace&&s(c)},show:function(){this._Opts.urlReplace.canReplace&&a.call(this,this._Model.getImageProps(),0)}}},l,"UrlReplace")}(window,window.ru.mail.cpf),function(e,t,s){var a=s.Basic,r="PopupGalleryView";a.Constructors.addPlugin(r,function(){function e(e){var s,r,i,n=this._shareButtons,o=this._opts.viewShares;n&&(s=e[o.urlProp],i=a.typeOf(s,"string")&&s.length>0,r=i||o.hideWhenNoUrl!==!0,r&&(s=i?s:t.location.href,n.updateElementsSet(this._getViewParent()||this._elems.sharesCont),n.setUrl2Share(s,{Title:e.title||e.description},!1)),this._opts.cssClss.hideShares?this._elems.sharesCont.toggleClass(this._opts.cssClss.hideShares,!r):this._elems.sharesCont.toggle(r))}return{_Handlers:{model:{imageready:function(t,s,a,r){this._isTargetImage(a,r)&&this._state.visible&&e.call(this,t)}},show:function(){e.call(this,this._model.getImageProps())}},_initPopup:function(){var e=this._elems.sharesCont;return e&&e.length&&(this._shareButtons=s.Tools.initModule(["Shares",this._opts.sharesExt],e,{getCntOnInit:!1})),this._super.apply(this,arguments)}}}(),{cssSels:{Main:{sharesCont:null}},cssClss:{hideShares:"hidden_all"},sharesExt:r,viewShares:{urlProp:"share_url",hideWhenNoUrl:!0}},"Shares")}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){function a(){return r||(r=i(o)),r}var r,i=s.Tools.initModule,n="PopupGalleryView",o="BannerController",c={usePopupLoading:!1,bannerExt:n};s.Basic.Constructors.addPlugin("PopupGalleryView",function(){function e(){this._state.visible&&this._super.apply(this,arguments)}return{_Init:function(){this._elems.sizeCont=null},_onImageLoaded:e,_onImageChange:function(e,t,s){var a;this._isTargetImage(s)&&!this._state.visible&&this._opts.showOnChange&&(this.Show(),a=this._getImageFrames(t),this._slider.goToFrame(a.frame,!0)),this._super.apply(this,arguments)},_onPopupToggle:function(e){e&&(this._slider.update(!0,!1,!0),setTimeout(function(){this._state.sliderSize=this._getSliderSizes()}.bind(this),1)),this._super.apply(this,arguments)},_showCurrentImage:function(){var e=this._model.getCurrentImage().image;this._replaceImageFrames(e),this._slider.goToFrame(e,!0),this._super.apply(this,arguments)},_clearImageView:function(){var e,t=this._model.getCurrentImageParams();t&&(e=t.versions[this._opts.imagesVersion])&&delete this._state.imagesReady[e.src],this._super.apply(this,arguments)},_showBanner:function(){if(this._opts.showBanner){var e=this._model.getCurrentImage(),t=e&&this._getImageFrames(e.image);if(t){var s=this._model.getCurrentImageParams(),r=i(["Banner",this._opts.bannerExt],t.frame,null,null,[{instance:a(),type:o}]);this._resetReadyStateFor(s.versions[this._opts.imagesVersion]),r.show()}}}}}(),c,"PopupImageSlider")}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){var a=s.Basic;a.Constructors.addPlugin("ImageView",function(){s.Tools.Images._addTypes({iframe:{exts:["html"],canPreload:!1}});var t={scrolling:"no",frameborder:0};return{_setImageToView:function(s,a,r){var i;return r=this._super.apply(this,arguments),"iframe"===s.type&&(i=this._Model.getFromCache(s.src),i||(i=e("<iframe />").attr(t).attr("src",s.src),this._Model.addToCache(i,s.src)),i.css(a).appendTo(r)),r}}}(),null,"Iframe")}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){"use strict";var a="ImageView",r=s.Basic.Constructors.addPlugin,i=s.Basic.Extend,n=s.Basic.debounce,o={cssSels:{Main:{slider:".js-image-slider"},slideContents:null},templates:{frames:s.Tools.getTemplate("ct-viewbox-slides.xml"),frameContents:s.Tools.getTemplate("ct-viewbox-slide-content.xml")},imageSliderExt:a},c=2;r(a,function(){function a(e,t,s){this._switchViewState(!1,!1,s.all),this._showImageVersion(e.versions[t],s.contents.find(this._opts.cssSels.Main.imageView))}function r(e){e=e||this._model._getCurrentSetParams();var t=this._opts.imagesVersion;return{params:e,images:(this._model._getCurrentSetImages()||[]).map(function(e){return i({},e,{targetVersion:e.versions[t]})})}}var o=function(e){var s=t.document.createElement("div"),a=r.call(this,e);s.innerHTML=this._opts.templates.frames(a),this._state=i({},this._state,{setImages:a,imageFrames:[],framesContent:[],imagesReady:{}}),this._slider.replaceFrames(s.children,0)};return{_Handlers:{model:{setchange:o,imageloaded:"_onImageLoaded",imageloading:function(e,t,s,a){var r=this._getImageFrames(t);this._isTargetImage(s,a)&&r&&this._switchViewState(!1,!0,r.all)}},dom:{"resize:window":n(function(){this._state.sliderSize=this._getSliderSizes()},100)}},_Init:function(){this._slider=s.Tools.initModule(["Slider",this._opts.imageSliderExt],this._elems.slider||this._elems.parent,{_Handlers:{beforeSlide:function(e){this._replaceImageFrames(null,e)}.bind(this),slide:function(e){this._model.changeImage(e),this._replaceImageFrames(e,null),this._state.sliderSwipe=!1}.bind(this),swipeStart:function(){this._state.sliderSwipe=!0}.bind(this)}}),this._state=i(this._state||{},{imageFrames:[],setImages:r.call(this),sliderSwipe:!1,sliderSize:this._getSliderSizes(),imagesReady:{}}),o.call(this)},_replaceImageFrames:function(e,t){var s,r,i,n,o,l,m,h,g,u=this._model.getCurrentImage(),p=u.setLength,f=this._opts.cssSels.slideContents,d=null!==e,_=this._opts.imagesVersion;d&&(s=e-c,r=e+c);for(var y=0;p>y;y++)i=this._getImageFrames(y),l=d&&y>=s&&r>=y||y===t,l&&("contents"in i?(h=this._Model.getImageParams(null,y),h=h&&h.versions[_],h&&"iframe"===h.type&&(g=i.contents.find(this._opts.cssSels.Main.imageView),g.length&&"IMG"!==g.prop("tagName")&&!g.children().length&&g.append(this._Model.getFromCache(h.src))),h=null):i=this._getFramesWithContents(y,i)),o=i.contents,n=i.all,m=o&&o.parent().length>0,l&&!m?(f&&(n=f.find(f)),o.each(function(e){n.eq(e).append(this)}),h=this._model.isImageReady(y,u.setId,_),h&&a.call(this,h,_,i)):d&&!l&&m&&o.detach()},_getSliderSizes:function(){var e=this._elems.slider||this._elems.parent;return{width:e.width(),height:e.height()}},_getImageFrames:function(e){var t=this._state.imageFrames[e];return t||(t={frame:this._slider.getFrameByNo(e)},t.clones=this._slider.getFrameClones(t.frame),t.all=t.frame.add(t.clones),this._state.imageFrames[e]=t),t},_getFramesWithContents:function(s,a){("undefined"==typeof a||null===a)&&(a=this._getImageFrames(s));var r=a.contents;if(!r){var n=this._opts.templates.frameContents,o=i({image:s},this._state.setImages),c=t.document.createElement("div");c.innerHTML=n(o),r=e(c.childNodes).detach();for(var l=0;l<a.all.length;l++)l>0&&(r=r.add(r.eq(0).clone()));a.contents=r}return a},_onImageClick:function(){this._state.sliderSwipe||this._super.apply(this,arguments)},_onImageLoaded:function(e,t,s,r){var i;this._isTargetImage(s,r)&&t!==this._model.getCurrentImage().image&&(i=this._getFramesWithContents(t),i.contents.parent().length&&a.call(this,e,r,i))},_onImageChange:function(e,t,s){var a;this._isTargetImage(s)&&(this._replaceImageFrames(null,t),t!==this._slider.getFrameNo()&&(a=this._getImageFrames(t),this._slider.goToFrame(a.frame))),this._super.apply(this,arguments)},_getViewElement:function(e){var t=this._slider.getCurrentFrame(),s=t.find(this._opts.cssSels.Main.imageView),a=this._getTargetElement(s,e);return a},_setViewElement:function(){},_getViewParent:function(e){return this._getTargetElement(this._slider.getCurrentFrame(),e)},_showImageVersion:function(e){var t=this._state.imagesReady[e.src],s=this._state.sliderSize;t&&t.height===s.height&&t.width===s.width||(this._super.apply(this,arguments),this._state.imagesReady[e.src]=i({},s))},_resetReadyStateFor:function(e){delete this._state.imagesReady[e.src]},_toggleImageInfo:function(){}}}(),o,"ImageViewSlider")}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){"use strict";function a(){return!0}function r(e){if(c(e,"string"))return e;var t="";for(var s in e)e.hasOwnProperty(s)&&(t+=e[s]);return t}function i(e){var t,a=e.split("."),r="";return a.forEach(function(e){e=r+e,t=s.Basic.Extend(!0,t||{},s.Basic.moduleOpts.get(e)),r=e+"."}),t}var n="Banner",o=s.Basic,c=o.typeOf,l={},m={},h={
cssSels:{Main:{container:".js-popup_banner"}},cssClss:{show:"viewbox__slide_side_show",loading:"viewbox__slide_side_loading",loadFail:""},bannerParams:{},bannerModuleName:"Slot",hasPlaceForBanner:a,minReloadDelay:1e3,showOnInit:!0,continuousMode:!0},g=function(e){var t,s=this._opts.cssClss,a=!0,r="";if(this._state.stateName!==e){switch(e){case"load":t="loading",r=s.loading;break;case"show":t="show",r=s.show;break;case"fail":t="loadFail",r=s.loadFail;break;case"hide":t="hide";break;default:a=!1}a&&(this._state.stateName=e,this._elems.parent.removeClass([s.show,s.loading,s.loadFail].join(" ")).addClass(r),this._trigger(t,{type:t}))}},u=function(){var e=this._state,t=e.loadPromise;return g.call(this,"load"),t||("rb"==this._opts.bannerParams.dataType?(t=s.Tools.loadSlot(p.call(this)).then(function(t){return e.loaded=!0,!(!t||!t.length)}),d.call(this)):e.loadPromise=t=this._model.preload(e.id).then(function(t){return e.loaded=!!t,t})),t},p=function(){var e=this._opts,t=i(e.bannerModuleName);return{slot:e.bannerParams.id,parent:this._elems.container,container:this._elems.container,failTimeout:t.failTimeout,instanceIdAttr:t.instanceIdAttr,slotParams:{sz:t.slot.sitezone||"",region:t.slot.region||"",siteId:t.slot.siteId||""},mimic:t.mimic}},f=function(e){e!==!0&&(this.clear(),this._elems.container.append(e))},d=function(){var e=this._state,t=m[e.cacheId];t||(t={timeout:null,canReload:!0},m[e.cacheId]=t),t.timeout&&clearTimeout(t.timeout),t.canReload=!1,t.timeout=setTimeout(function(){t.canReload=!0},this._opts.minReloadDelay)},_=o.Constructors.getView({_Events:["show","hide","loadFail","loading"],_Init:function(){var e,t,s=this._opts,a={loaded:!1,canReload:!0},i=s.bannerParams;i.hitTimeout=s.minReloadDelay,s.continuousMode?(e=r(i),a.cacheId=e,e in l?t=l[e].id:(t=this._model.add(i,!1),l[e]={id:t})):t=this._model.add(i,!1),c(t,"undefined")||(a.id=t),this._state=a,s.showOnInit&&this.show()},show:function(){if(this.canShow()){var e=g.bind(this),s=f.bind(this),a=this._state;a.loaded?e("show"):u.call(this).then(function(r){a.loaded?(e("show"),t.requestAnimationFrame(s.bind(null,r))):e("hide")},function(){e("fail")})}},hide:function(){g.call(this,"hide")},clear:function(){this._elems.container.children().detach()},canShow:function(){return this.hasPlaceForBanner()?this._state.loaded?!0:this._opts.continuousMode?this.canReload():!0:!1},canReload:function(){return"rb"!==this._opts.bannerParams.dataType?this._model.canReload(this._state.id):this._opts.continuousMode&&m[this._state.cacheId]?m[this._state.cacheId].canReload:!0},hasPlaceForBanner:function(){var e=this._opts.hasPlaceForBanner;return c(e,"function")||(e=a),e.call(this)}},h,null,n);o.moduleOpts.setParams(n,{acceptTypes:"BannerController"}),t.getNameSpace("Modules",s)[n]=_}(jQuery,window,window.ru.mail.cpf),function(e){e.fest||(e.fest={}),e.fest["ct-viewbox-popup.xml"]=e.fest["bem/lady/web/web.bundles/ct-viewbox-popup"]=function(e){"use strict";function t(e){h(e+'\nin block "'+b+'" at line: '+v+"\nfile: "+y)}function s(e,t,s){if(s)for(var a in t)"function"==typeof t[a]&&t[a].param&&(t[a]=t[a]());return e.call(g,t)}var a,r,i,n,o,c,l,m,h,g=this,u="",p=[],f=[],d="",_={},y="",v="",b="",x=[],w={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},P=/[&<>"]/g,C=/[&<>"]/,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},S=function(e){return"string"==typeof e&&C.test(e)?e.replace(P,B):null==e?"":e},B=function(e){return I[e]},k=function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},A=function(e){return e.param=!0,e};g&&"function"==typeof g.i18n?g.i18n:function(e){return e};h="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;if(function(e){_.ajax=function(e){var s="";try{i=e.html}catch(a){i=!1,t(a.message)}if(i)try{s+=e.html}catch(a){t(a.message+"5")}return s}}(e),function(e){_.viewbox=function(e){var a="";try{var i=e.controls||{}}catch(n){t(n.message)}r="element",l={};try{k(l,e)}catch(n){t(n.message)}try{k(l,{baseClass:"viewbox"})}catch(n){t(n.message)}return l.html=A(function(){var a,r,n,o,c="";try{r=e.close}catch(l){r=!1,t(l.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("viewbox__close",e.close))}catch(l){f[0]="",t(l.message)}c+='<a href="#" class="'+f[0]+'">';try{r=e.close.icon}catch(l){r=!1,t(l.message)}if(r){a="icon",o={};try{o=e.close.icon}catch(l){t(l.message)}n=_[a],n&&(c+=s(n,o,!1))}c+="</a>"}a="element",o={};try{k(o,e.containerParams)}catch(l){t(l.message)}try{k(o,{baseClass:"viewbox__container"})}catch(l){t(l.message)}o.html=A(function(){var a,r,n,o,c,l,m,h,g="";try{h=["previous","next"]||[],m=h.length}catch(u){h=[],m=0,t(u.message)}for(c=0;m>c;c++){l=h[c];var p=i[l];try{r=p}catch(u){r=!1,t(u.message)}if(r){try{p.mods=[l]}catch(u){t(u.message)}a="viewbox__control",o={};try{o=p}catch(u){t(u.message)}n=_[a],n&&(g+=s(n,o,!1))}}a="element",o={};try{k(o,e.innerParams)}catch(u){t(u.message)}try{k(o,{baseClass:"viewbox__inner"})}catch(u){t(u.message)}return o.html=A(function(){var a,r,i,n="";a="element",i={};try{k(i,e.slidesParams)}catch(o){t(o.message)}try{k(i,{baseClass:"viewbox__slides"})}catch(o){t(o.message)}return r=_[a],r&&(n+=s(r,i,!1)),n}),n=_[a],n&&(g+=s(n,o,!0)),g}),n=_[a],n&&(c+=s(n,o,!0));try{r=e.slider}catch(l){r=!1,t(l.message)}if(r){a="viewbox__list",o={};try{o=e}catch(l){t(l.message)}n=_[a],n&&(c+=s(n,o,!1))}return c}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.viewbox__more=function(e){var a="";a+='<div class="viewbox__more">';var n,o,m,h;try{h=["previous","next"]||[],m=h.length}catch(g){h=[],m=0,t(g.message)}for(n=0;m>n;n++){o=h[n];try{i=e.fakecontrols&&e.fakecontrols[o]}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{l={baseClass:"viewbox__fakecontrol",baseParams:fest._helpers.mergeTopParams(e.fakecontrols[o],{mods:[o]})}}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}}try{i=e.buttons}catch(g){i=!1,t(g.message)}if(i){a+='<div class="viewbox__buttons">';var n,u,p,f;try{f=e.buttons||[],p=f.length}catch(g){f=[],p=0,t(g.message)}for(n=0;p>n;n++){u=f[n],r="button",l={};try{k(l,u)}catch(g){t(g.message)}try{k(l,fest._helpers.mergeTopParams(u,{mix:n?["margin_left_10"]:[],mods:["opaque"]}))}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}a+="</div>"}a+='<div class="viewbox__grid">',r="grid",l={};try{l=e.grid}catch(g){t(g.message)}return c=_[r],c&&(a+=s(c,l,!1)),a+="</div></div>"}}(e),function(e){_.viewbox__list=function(e){var a="";r="element",l={};try{l={baseParams:e.listParams,baseClass:"viewbox__list",elem:{baseParams:e.listContentParams,baseClass:"viewbox__list-content",elem:{baseParams:e.previewsParams,baseClass:"viewbox__previews"}}}}catch(i){t(i.message)}return c=_[r],c&&(a+=s(c,l,!1)),a}}(e),function(e){}(e),function(e){_.viewbox__error=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__error"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=fest._helpers.mergeParams(e.icon,{mix:["margin_bottom_70","viewbox__error-icon"]})}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}o+='<span class="viewbox__error-text">';try{o+=e.text||"Ошибка загрузки изображения"}catch(c){t(c.message+"22")}o+="</span>",a="element",n={};try{k(n,e.button)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__button",mods:["error"],html:e.button&&e.button.text||"Перезагрузить"})}catch(c){t(c.message)}return i=_[a],i&&(o+=s(i,n,!1)),o}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.viewbox__control=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__control"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";o+='<div class="viewbox__arrow">';try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=e.icon}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.element=function(e){var a="";try{var o=e.baseParams||e.forParams||e,h=o.attrs||{},g=e.baseClass||e.forClass||"",u=e.elem,p=e.htmlDeep;u&&p&&!u.htmlDeep?u.htmlDeep=p:!u&&p&&(e.html=p),e.href&&(h.href=e.href)}catch(f){t(f.message)}try{m=h.href&&"a"||e.tagName||"div","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(f){m="div",t(f.message)}x.push(m),a+="<"+m,a+=' class="';try{r=fest._helpers.classNamesFor(g,o)}catch(f){r="",t(f.message)}a+=r,a+='"';var d,y,v;try{v=h||{}}catch(f){n={},t(f.message)}for(d in v){y=v[d];try{r=d}catch(f){r="",t(f.message)}if(""!==r){a+=" "+r+'="';try{a+=S(y)}catch(f){t(f.message+"25")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.htmlPrepend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlPrepend}catch(f){t(f.message+"31")}try{i=e.html}catch(f){i=!1,t(f.message)}if(i)try{a+=e.html}catch(f){t(f.message+"34")}try{i=e.elem}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=e.elem}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.elems}catch(f){i=!1,t(f.message)}if(i){var b,u,P,C;try{C=e.elems||[],P=C.length}catch(f){C=[],P=0,t(f.message)}for(b=0;P>b;b++){u=C[b];try{i=u}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=u}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}}}try{i=e.htmlAppend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlAppend}catch(f){t(f.message+"47")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.icon=function(e){var a="";try{e.tag=e.tag||(e.href?"a":"i");var o=e.attrs=e.attrs||{};"title"in e&&!("title"in o)&&(o.title=e.title),"href"in e&&!("href"in o)&&(o.href=e.href)}catch(h){t(h.message)}try{m=e.tag,"string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(h){m="div",t(h.message)}x.push(m),a+="<"+m,a+=' class="';try{a+=S(fest._helpers.classNamesFor("icon",e))}catch(h){t(h.message+"15")}a+='"';var g,u,p;try{p=o||{}}catch(h){n={},t(h.message)}for(g in p){u=p[g];try{r=g}catch(h){r="",t(h.message)}if(""!==r){a+=" "+r+'="';try{a+=S(u)}catch(h){t(h.message+"22")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.icon}catch(h){i=!1,t(h.message)}if(i){r="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.html}catch(h){i=!1,t(h.message)}if(i)try{a+=e.html}catch(h){t(h.message+"32")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .33)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .66)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .33)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .66)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.button=function(e){var a="";try{var i,n=e.icon;n&&(i=n.position||"left",n=fest._helpers.mergeParams(n,{mix:["button__icon"].concat(e.text||e.ending?["button__icon_"+i]:[])}))}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"button",tagName:e.tagName||"button"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=e.loader}catch(m){r=!1,t(m.message)}if(r){a="loader",c={};try{c={mods:["button"],mix:["button__loader"]}}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+='<span class="button__inner">';try{r="left"===i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.text}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.textParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__text",html:e.text})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.hiddenText}catch(m){r=!1,t(m.message)}if(r){l+='<span class="button__text button__text_hidden">';try{l+=e.hiddenText}catch(m){t(m.message+"56")}l+="</span>"}try{r=e.ending}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.endingParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__ending",html:e.ending})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r="right"==i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"79")}return l+="</span>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.share=function(e){var a="";try{i=e.name}catch(n){i=!1,t(n.message)}if(i){try{var o=[].concat(e.mods||[]);o.push(e.name);var m=e.innerParams||{mix:e.innerMix},h=e.countParams||{mix:e.countMix}}catch(n){t(n.message)}r="element",l={};try{k(l,e)}catch(n){t(n.message)}try{k(l,{baseClass:"share",href:e.href||"#"})}catch(n){t(n.message)}try{k(l,fest._helpers.mergeTopParams(e,{mods:o,attrs:{"data-share":e.name}}))}catch(n){t(n.message)}l.html=A(function(){var a,r,i,n,o="";a="element",n={};try{k(n,e.buttonParams)}catch(c){t(c.message)}try{k(n,{baseClass:"share__button"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o="";a="icon",n={};try{n={mods:["social","social_"+e.name]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1));try{r=e.text}catch(c){r=!1,t(c.message)}if(r){o+='<span class="share__text">';try{o+=e.text}catch(c){t(c.message+"44")}o+="</span>"}return o}),i=_[a],i&&(o+=s(i,n,!0));try{r=!e.hideCount}catch(c){r=!1,t(c.message)}if(r){a="element",n={};try{n={baseClass:"share__inner",baseParams:m,tagName:"span",elems:[{baseClass:"share__count",baseParams:h,tagName:"span",html:e.count||"0"},{baseClass:"share__like",tagName:"span",html:"+1"}]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o}),c=_[r],c&&(a+=s(c,l,!0))}return a}}(e),function(e){_.sharelist=function(e){var a="";try{var i=e.itemParams||{mix:e.itemMix},n=e.itemCountParams||{mix:e.itemCountMix},o=e.itemInnerParams||{mix:e.itemInnerMix},m=(e.countParams,e.mods&&~e.mods.indexOf("justify")),h=[{name:"ok",text:"Одноклассники"},{name:"vk",text:"ВКонтакте"},{name:"fb",text:"Facebook"},{name:"tw",text:"Twitter"},{name:"my",text:"Мой Мир"}],g=e.items||h;m&&(e.hideCount=!0)}catch(u){t(u.message)}r="element",l={};try{k(l,e)}catch(u){t(u.message)}try{k(l,{baseClass:"sharelist",baseParams:fest._helpers.mergeTopParams(e,{attrs:{onclick:e.onclick}})})}catch(u){t(u.message)}return l.html=A(function(){var a,r,c,l,m="";try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}try{r=e.text}catch(h){r=!1,t(h.message)}if(r){m+='<span class="sharelist__text">';try{m+=e.text}catch(h){t(h.message+"56")}m+="</span>"}m+='<div class="sharelist__items">';try{r=e.countParams}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{l={baseClass:"sharelist__count",baseParams:e.countParams}}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}var u,p,f,d;try{d=g||[],f=d.length}catch(h){d=[],f=0,t(h.message)}for(u=0;f>u;u++){p=d[u];try{p.hideCount=p.hideCount||e.hideCount,e.showLabels||(p.text=null)}catch(h){t(h.message)}a="share",l={};try{k(l,p)}catch(h){t(h.message)}try{k(l,i)}catch(h){t(h.message)}try{k(l,{buttonParams:e.buttonParams,countParams:n,innerParams:o})}catch(h){t(h.message)}try{k(l,fest._helpers.mergeTopParams(p,i))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_["rb-slot"]=function(e){var a="";try{var n,o,m,h=["sitezone","string","region"];e.id&&(n="/rb/"+e.id,o="rb: "+e.id,m=h.reduce(function(t,s){return e[s]&&t.push("_"+s.toUpperCase()+"="+e[s]),t},[]),m&&m.length&&(n+="?"+m.join("&"),o+="?"+m.join("&")),e.name&&(o+=" ("+e.name+")"))}catch(g){t(g.message)}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- ";try{a+=o}catch(g){t(g.message+"30")}a+=" -->"}try{i=e.beforeInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.beforeInclude}catch(g){t(g.message+"34")}try{i=e.async}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{k(l,e.asyncParams)}catch(g){t(g.message)}try{k(l,{baseClass:"rb-slot"})}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}else{try{i=n}catch(g){i=!1,t(g.message)}if(i){a+='<!--#include virtual="';try{a+=n}catch(g){t(g.message+"48")}a+='" wait="yes"-->'}}try{i=e.afterInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.afterInclude}catch(g){t(g.message+"52")}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- /";try{a+=o}catch(g){t(g.message+"56")}a+=" -->"}return a}}(e),function(e){_.element_ssi=function(e){var s="";try{var a=e.attrs||{};e.href&&(a.href=e.href)}catch(o){t(o.message)}try{m=a.href&&"a"||e.tagName||"span","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(o){m="div",t(o.message)}x.push(m),s+="<"+m,s+=' class="';try{r=fest._helpers.classNamesFor(e.baseClass,e)}catch(o){r="",t(o.message)}s+=r,s+='"';var c,l,h;try{h=a||{}}catch(o){n={},t(o.message)}for(c in h){l=h[c];try{r=c}catch(o){r="",t(o.message)}if(""!==r){s+=" "+r+'="';try{i=l.indexOf&&l.indexOf("--# echo")>-1}catch(o){i=!1,t(o.message)}if(i)try{s+=l}catch(o){t(o.message+"17")}else try{s+=S(l)}catch(o){t(o.message+"20")}s+='"'}}m=x[x.length-1],s+=m in w?"/>":">";try{i=e.html}catch(o){i=!1,t(o.message)}if(i)try{s+=e.html}catch(o){t(o.message+"27")}return m=x[x.length-1],m in w||(s+="</"+m+">"),x.pop(),s}}(e),function(e){_.badge=function(e){var a="";r="element",l={};try{k(l,{tagName:"span"})}catch(i){t(i.message)}try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"badge"})}catch(i){t(i.message)}return l.html=A(function(){var s,a="";try{s=e.src}catch(r){s=!1,t(r.message)}if(s){try{f[0]=S(e.src)}catch(r){f[0]="",t(r.message)}a+='<img src="'+f[0]+'" class="badge__icon"/>'}try{s=e.text}catch(r){s=!1,t(r.message)}if(s){a+='<span class="badge__text">';try{a+=e.text}catch(r){t(r.message+"22")}a+="</span>"}return a}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){}(e),function(e){_.photo=function(e){var a="";try{var i=e.actionParams||{mix:e.actionMix},n=e.picParams||{mix:e.picMix},o=e.mods&&~e.mods.indexOf("full")}catch(m){t(m.message)}r="element_ssi",l={};try{k(l,e)}catch(m){t(m.message)}try{k(l,{baseClass:"photo"})}catch(m){t(m.message)}return l.html=A(function(){var a,r,c,l,m="";a="element",l={};try{k(l,e.innerParams)}catch(h){t(h.message)}try{k(l,{baseClass:"photo__inner"})}catch(h){t(h.message)}l.html=A(function(){var a,r,c,l,m="";try{r=e.action}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__action",i))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'"><span class="photo__action-inner">',a="icon",l={};try{l=e.action}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span></span>"}try{r=e.labels}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__labels",e.labels))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'">';var g,u,p,d;try{d=e.labels.items||[],p=d.length}catch(h){d=[],p=0,t(h.message)}for(g=0;p>g;g++){u=d[g],a="badge",l={};try{k(l,u)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({mix:["photo__label"]},u))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}m+="</span>"}try{r=e.src}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,n)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({attrs:o?{style:"background-image:url("+e.src+")"}:{src:e.src}},n))}catch(h){t(h.message)}try{k(l,{baseClass:"photo__pic",tagName:o?"span":"img"})}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m}),c=_[a],c&&(m+=s(c,l,!0));try{r=e.title||e.titleNoescape||e.subtitle||e.count||e.icon||e.captionHtml}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(e.count||e.icon?" photo__captions_icon":"")}catch(h){f[0]="",t(h.message)}m+='<span class="photo__captions'+f[0]+'">';try{r=e.count}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__count">';try{m+=S(e.count)}catch(h){t(h.message+"88")}m+="</span>"}try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__icon">',a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span>"}try{r=e.param}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__param">';try{m+=S(e.param)}catch(h){t(h.message+"104")}m+="</span>"}try{r=e.title||e.titleNoescape}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,{tagName:"span",baseClass:"photo__title"})}catch(h){t(h.message)}try{k(l,e.titleParams)}catch(h){t(h.message)}l.html=A(function(){var s,a="";try{s=e.titleNoescape}catch(r){s=!1,t(r.message)}if(s)try{a+=e.titleNoescape}catch(r){t(r.message+"120")}else try{a+=S(e.title)}catch(r){t(r.message+"123")}return a}),c=_[a],c&&(m+=s(c,l,!0))}try{r=e.subtitle||e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__subtitle">';try{r=e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r)try{m+=e.subtitleNoescape}catch(h){t(h.message+"136")}else try{m+=S(e.subtitle)}catch(h){t(h.message+"141")}m+="</span>"}try{r=e.captionHtml}catch(h){r=!1,t(h.message)}if(r)try{m+=e.captionHtml}catch(h){t(h.message+"150")}m+="</span>"}try{r=e.html}catch(h){r=!1,t(h.message)}if(r)try{m+=e.html}catch(h){t(h.message+"158")}return m}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.spring=function(e){var a="";try{var i=e.slot,n=~["number","string"].indexOf(typeof i)?{id:e.slot,region:e.region,sitezone:e.sitezone}:i}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,fest._helpers.mergeParams({attrs:e.src?{style:"background-image: url("+e.src+")"}:{}},e))}catch(o){t(o.message)}try{k(l,{baseClass:"spring"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=i}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"37")}return l}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__item=function(e){var a="";try{var i=fest._helpers.mergeTopParams,n=e.photo}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"grid__item"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";l+='<div class="grid__fixer">';try{r=e.slot}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=e.slot}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1)),l+='<!--# if expr="$SLOT_';try{l+=S(e.slot.id)}catch(m){t(m.message+"25")}l+='_SHOWN"--><!--# else-->';try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+="<!--# endif-->"}else{try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.banner}catch(m){r=!1,t(m.message)}if(r){a="spring",c={};try{c=e.banner}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.text}catch(m){r=!1,t(m.message)}if(r){l+='<span class="grid__text">';try{l+=e.text}catch(m){t(m.message+"63")}l+="</span>"}}}}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"72")}return l+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__row=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid__row"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.items||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__item",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.banner}catch(g){r=!1,t(g.message)}if(r){a="spring",n={};try{n={mix:["grid__spring"],slot:e.banner}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"29")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.rows||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__row",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"19")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){r="ajax",l={},l.html=A(function(){var e,a,r,i="";e="viewbox",r={};try{r={close:{mix:["js-popup_close"],icon:{mods:["close"]}},slider:!0,listParams:{mix:["js-photo_slider"]},listContentParams:{mix:["js-photo_slider_wrap"]},previewsParams:{mix:["js-photo_slider_cont"]},innerParams:{mix:["js-popup_close"]},slidesParams:{mix:["js-slider__content","js-photo_shares"]},containerParams:{mix:["js-slider__container"]},controls:{previous:{icon:{mods:["control_previous"]},mix:["js-photo_ctrl"],attrs:{"data-direction":"prev"}},next:{icon:{mods:["control_next"]},mix:["js-photo_ctrl"],attrs:{"data-direction":"next"}}}}}catch(n){t(n.message)}return a=_[e],a&&(i+=s(a,r,!1)),i}),p.push(u,{name:r,params:l,cp:!0}),u=""}(e),o=p.length){for(n=0;o>n;n++)a=p[n],"string"==typeof a?d+=a:(c=_[a.name],c&&(d+=s(c,a.params,a.cp)));return d+u}return u}}(Function("return this")()),function(e){e.fest||(e.fest={}),e.fest["ct-viewbox-previews.xml"]=e.fest["bem/lady/web/web.bundles/ct-viewbox-previews"]=function(e){"use strict";function t(e){h(e+'\nin block "'+b+'" at line: '+v+"\nfile: "+y)}function s(e,t,s){if(s)for(var a in t)"function"==typeof t[a]&&t[a].param&&(t[a]=t[a]());return e.call(g,t)}var a,r,i,n,o,c,l,m,h,g=this,u="",p=[],f=[],d="",_={},y="",v="",b="",x=[],w={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},P=/[&<>"]/g,C=/[&<>"]/,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},S=function(e){return"string"==typeof e&&C.test(e)?e.replace(P,B):null==e?"":e},B=function(e){return I[e]},k=function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},A=function(e){return e.param=!0,e};g&&"function"==typeof g.i18n?g.i18n:function(e){return e};h="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;if(function(e){_.ajax=function(e){var s="";try{i=e.html}catch(a){i=!1,t(a.message)}if(i)try{s+=e.html}catch(a){t(a.message+"5")}return s}}(e),function(e){}(e),function(e){}(e),function(e){_.viewbox__more=function(e){var a="";a+='<div class="viewbox__more">';var n,o,m,h;try{h=["previous","next"]||[],m=h.length}catch(g){h=[],m=0,t(g.message)}for(n=0;m>n;n++){o=h[n];try{i=e.fakecontrols&&e.fakecontrols[o]}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{l={baseClass:"viewbox__fakecontrol",baseParams:fest._helpers.mergeTopParams(e.fakecontrols[o],{mods:[o]})}}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}}try{i=e.buttons}catch(g){i=!1,t(g.message)}if(i){a+='<div class="viewbox__buttons">';var n,u,p,f;try{f=e.buttons||[],p=f.length}catch(g){f=[],p=0,t(g.message)}for(n=0;p>n;n++){u=f[n],r="button",l={};try{k(l,u)}catch(g){t(g.message)}try{k(l,fest._helpers.mergeTopParams(u,{mix:n?["margin_left_10"]:[],mods:["opaque"]}))}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}a+="</div>"}a+='<div class="viewbox__grid">',r="grid",l={};try{l=e.grid}catch(g){t(g.message)}return c=_[r],c&&(a+=s(c,l,!1)),a+="</div></div>"}}(e),function(e){_.viewbox__list=function(e){var a="";r="element",l={};try{l={baseParams:e.listParams,baseClass:"viewbox__list",elem:{baseParams:e.listContentParams,baseClass:"viewbox__list-content",elem:{baseParams:e.previewsParams,baseClass:"viewbox__previews"}}}}catch(i){t(i.message)}return c=_[r],c&&(a+=s(c,l,!1)),a}}(e),function(e){_.viewbox__preview=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__preview",elem:{tagName:"img",baseClass:"viewbox__preview-pic",attrs:{src:e.src}}})}catch(i){t(i.message)}return c=_[r],c&&(a+=s(c,l,!1)),a}}(e),function(e){_.viewbox__error=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__error"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=fest._helpers.mergeParams(e.icon,{mix:["margin_bottom_70","viewbox__error-icon"]})}catch(c){t(c.message);
}i=_[a],i&&(o+=s(i,n,!1))}o+='<span class="viewbox__error-text">';try{o+=e.text||"Ошибка загрузки изображения"}catch(c){t(c.message+"22")}o+="</span>",a="element",n={};try{k(n,e.button)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__button",mods:["error"],html:e.button&&e.button.text||"Перезагрузить"})}catch(c){t(c.message)}return i=_[a],i&&(o+=s(i,n,!1)),o}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.viewbox__control=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__control"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";o+='<div class="viewbox__arrow">';try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=e.icon}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.element=function(e){var a="";try{var o=e.baseParams||e.forParams||e,h=o.attrs||{},g=e.baseClass||e.forClass||"",u=e.elem,p=e.htmlDeep;u&&p&&!u.htmlDeep?u.htmlDeep=p:!u&&p&&(e.html=p),e.href&&(h.href=e.href)}catch(f){t(f.message)}try{m=h.href&&"a"||e.tagName||"div","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(f){m="div",t(f.message)}x.push(m),a+="<"+m,a+=' class="';try{r=fest._helpers.classNamesFor(g,o)}catch(f){r="",t(f.message)}a+=r,a+='"';var d,y,v;try{v=h||{}}catch(f){n={},t(f.message)}for(d in v){y=v[d];try{r=d}catch(f){r="",t(f.message)}if(""!==r){a+=" "+r+'="';try{a+=S(y)}catch(f){t(f.message+"25")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.htmlPrepend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlPrepend}catch(f){t(f.message+"31")}try{i=e.html}catch(f){i=!1,t(f.message)}if(i)try{a+=e.html}catch(f){t(f.message+"34")}try{i=e.elem}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=e.elem}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.elems}catch(f){i=!1,t(f.message)}if(i){var b,u,P,C;try{C=e.elems||[],P=C.length}catch(f){C=[],P=0,t(f.message)}for(b=0;P>b;b++){u=C[b];try{i=u}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=u}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}}}try{i=e.htmlAppend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlAppend}catch(f){t(f.message+"47")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.icon=function(e){var a="";try{e.tag=e.tag||(e.href?"a":"i");var o=e.attrs=e.attrs||{};"title"in e&&!("title"in o)&&(o.title=e.title),"href"in e&&!("href"in o)&&(o.href=e.href)}catch(h){t(h.message)}try{m=e.tag,"string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(h){m="div",t(h.message)}x.push(m),a+="<"+m,a+=' class="';try{a+=S(fest._helpers.classNamesFor("icon",e))}catch(h){t(h.message+"15")}a+='"';var g,u,p;try{p=o||{}}catch(h){n={},t(h.message)}for(g in p){u=p[g];try{r=g}catch(h){r="",t(h.message)}if(""!==r){a+=" "+r+'="';try{a+=S(u)}catch(h){t(h.message+"22")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.icon}catch(h){i=!1,t(h.message)}if(i){r="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.html}catch(h){i=!1,t(h.message)}if(i)try{a+=e.html}catch(h){t(h.message+"32")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .33)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .66)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .33)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .66)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.button=function(e){var a="";try{var i,n=e.icon;n&&(i=n.position||"left",n=fest._helpers.mergeParams(n,{mix:["button__icon"].concat(e.text||e.ending?["button__icon_"+i]:[])}))}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"button",tagName:e.tagName||"button"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=e.loader}catch(m){r=!1,t(m.message)}if(r){a="loader",c={};try{c={mods:["button"],mix:["button__loader"]}}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+='<span class="button__inner">';try{r="left"===i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.text}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.textParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__text",html:e.text})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.hiddenText}catch(m){r=!1,t(m.message)}if(r){l+='<span class="button__text button__text_hidden">';try{l+=e.hiddenText}catch(m){t(m.message+"56")}l+="</span>"}try{r=e.ending}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.endingParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__ending",html:e.ending})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r="right"==i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"79")}return l+="</span>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.share=function(e){var a="";try{i=e.name}catch(n){i=!1,t(n.message)}if(i){try{var o=[].concat(e.mods||[]);o.push(e.name);var m=e.innerParams||{mix:e.innerMix},h=e.countParams||{mix:e.countMix}}catch(n){t(n.message)}r="element",l={};try{k(l,e)}catch(n){t(n.message)}try{k(l,{baseClass:"share",href:e.href||"#"})}catch(n){t(n.message)}try{k(l,fest._helpers.mergeTopParams(e,{mods:o,attrs:{"data-share":e.name}}))}catch(n){t(n.message)}l.html=A(function(){var a,r,i,n,o="";a="element",n={};try{k(n,e.buttonParams)}catch(c){t(c.message)}try{k(n,{baseClass:"share__button"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o="";a="icon",n={};try{n={mods:["social","social_"+e.name]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1));try{r=e.text}catch(c){r=!1,t(c.message)}if(r){o+='<span class="share__text">';try{o+=e.text}catch(c){t(c.message+"44")}o+="</span>"}return o}),i=_[a],i&&(o+=s(i,n,!0));try{r=!e.hideCount}catch(c){r=!1,t(c.message)}if(r){a="element",n={};try{n={baseClass:"share__inner",baseParams:m,tagName:"span",elems:[{baseClass:"share__count",baseParams:h,tagName:"span",html:e.count||"0"},{baseClass:"share__like",tagName:"span",html:"+1"}]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o}),c=_[r],c&&(a+=s(c,l,!0))}return a}}(e),function(e){_.sharelist=function(e){var a="";try{var i=e.itemParams||{mix:e.itemMix},n=e.itemCountParams||{mix:e.itemCountMix},o=e.itemInnerParams||{mix:e.itemInnerMix},m=(e.countParams,e.mods&&~e.mods.indexOf("justify")),h=[{name:"ok",text:"Одноклассники"},{name:"vk",text:"ВКонтакте"},{name:"fb",text:"Facebook"},{name:"tw",text:"Twitter"},{name:"my",text:"Мой Мир"}],g=e.items||h;m&&(e.hideCount=!0)}catch(u){t(u.message)}r="element",l={};try{k(l,e)}catch(u){t(u.message)}try{k(l,{baseClass:"sharelist",baseParams:fest._helpers.mergeTopParams(e,{attrs:{onclick:e.onclick}})})}catch(u){t(u.message)}return l.html=A(function(){var a,r,c,l,m="";try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}try{r=e.text}catch(h){r=!1,t(h.message)}if(r){m+='<span class="sharelist__text">';try{m+=e.text}catch(h){t(h.message+"56")}m+="</span>"}m+='<div class="sharelist__items">';try{r=e.countParams}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{l={baseClass:"sharelist__count",baseParams:e.countParams}}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}var u,p,f,d;try{d=g||[],f=d.length}catch(h){d=[],f=0,t(h.message)}for(u=0;f>u;u++){p=d[u];try{p.hideCount=p.hideCount||e.hideCount,e.showLabels||(p.text=null)}catch(h){t(h.message)}a="share",l={};try{k(l,p)}catch(h){t(h.message)}try{k(l,i)}catch(h){t(h.message)}try{k(l,{buttonParams:e.buttonParams,countParams:n,innerParams:o})}catch(h){t(h.message)}try{k(l,fest._helpers.mergeTopParams(p,i))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_["rb-slot"]=function(e){var a="";try{var n,o,m,h=["sitezone","string","region"];e.id&&(n="/rb/"+e.id,o="rb: "+e.id,m=h.reduce(function(t,s){return e[s]&&t.push("_"+s.toUpperCase()+"="+e[s]),t},[]),m&&m.length&&(n+="?"+m.join("&"),o+="?"+m.join("&")),e.name&&(o+=" ("+e.name+")"))}catch(g){t(g.message)}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- ";try{a+=o}catch(g){t(g.message+"30")}a+=" -->"}try{i=e.beforeInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.beforeInclude}catch(g){t(g.message+"34")}try{i=e.async}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{k(l,e.asyncParams)}catch(g){t(g.message)}try{k(l,{baseClass:"rb-slot"})}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}else{try{i=n}catch(g){i=!1,t(g.message)}if(i){a+='<!--#include virtual="';try{a+=n}catch(g){t(g.message+"48")}a+='" wait="yes"-->'}}try{i=e.afterInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.afterInclude}catch(g){t(g.message+"52")}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- /";try{a+=o}catch(g){t(g.message+"56")}a+=" -->"}return a}}(e),function(e){_.element_ssi=function(e){var s="";try{var a=e.attrs||{};e.href&&(a.href=e.href)}catch(o){t(o.message)}try{m=a.href&&"a"||e.tagName||"span","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(o){m="div",t(o.message)}x.push(m),s+="<"+m,s+=' class="';try{r=fest._helpers.classNamesFor(e.baseClass,e)}catch(o){r="",t(o.message)}s+=r,s+='"';var c,l,h;try{h=a||{}}catch(o){n={},t(o.message)}for(c in h){l=h[c];try{r=c}catch(o){r="",t(o.message)}if(""!==r){s+=" "+r+'="';try{i=l.indexOf&&l.indexOf("--# echo")>-1}catch(o){i=!1,t(o.message)}if(i)try{s+=l}catch(o){t(o.message+"17")}else try{s+=S(l)}catch(o){t(o.message+"20")}s+='"'}}m=x[x.length-1],s+=m in w?"/>":">";try{i=e.html}catch(o){i=!1,t(o.message)}if(i)try{s+=e.html}catch(o){t(o.message+"27")}return m=x[x.length-1],m in w||(s+="</"+m+">"),x.pop(),s}}(e),function(e){_.badge=function(e){var a="";r="element",l={};try{k(l,{tagName:"span"})}catch(i){t(i.message)}try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"badge"})}catch(i){t(i.message)}return l.html=A(function(){var s,a="";try{s=e.src}catch(r){s=!1,t(r.message)}if(s){try{f[0]=S(e.src)}catch(r){f[0]="",t(r.message)}a+='<img src="'+f[0]+'" class="badge__icon"/>'}try{s=e.text}catch(r){s=!1,t(r.message)}if(s){a+='<span class="badge__text">';try{a+=e.text}catch(r){t(r.message+"22")}a+="</span>"}return a}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){}(e),function(e){_.photo=function(e){var a="";try{var i=e.actionParams||{mix:e.actionMix},n=e.picParams||{mix:e.picMix},o=e.mods&&~e.mods.indexOf("full")}catch(m){t(m.message)}r="element_ssi",l={};try{k(l,e)}catch(m){t(m.message)}try{k(l,{baseClass:"photo"})}catch(m){t(m.message)}return l.html=A(function(){var a,r,c,l,m="";a="element",l={};try{k(l,e.innerParams)}catch(h){t(h.message)}try{k(l,{baseClass:"photo__inner"})}catch(h){t(h.message)}l.html=A(function(){var a,r,c,l,m="";try{r=e.action}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__action",i))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'"><span class="photo__action-inner">',a="icon",l={};try{l=e.action}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span></span>"}try{r=e.labels}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__labels",e.labels))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'">';var g,u,p,d;try{d=e.labels.items||[],p=d.length}catch(h){d=[],p=0,t(h.message)}for(g=0;p>g;g++){u=d[g],a="badge",l={};try{k(l,u)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({mix:["photo__label"]},u))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}m+="</span>"}try{r=e.src}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,n)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({attrs:o?{style:"background-image:url("+e.src+")"}:{src:e.src}},n))}catch(h){t(h.message)}try{k(l,{baseClass:"photo__pic",tagName:o?"span":"img"})}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m}),c=_[a],c&&(m+=s(c,l,!0));try{r=e.title||e.titleNoescape||e.subtitle||e.count||e.icon||e.captionHtml}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(e.count||e.icon?" photo__captions_icon":"")}catch(h){f[0]="",t(h.message)}m+='<span class="photo__captions'+f[0]+'">';try{r=e.count}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__count">';try{m+=S(e.count)}catch(h){t(h.message+"88")}m+="</span>"}try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__icon">',a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span>"}try{r=e.param}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__param">';try{m+=S(e.param)}catch(h){t(h.message+"104")}m+="</span>"}try{r=e.title||e.titleNoescape}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,{tagName:"span",baseClass:"photo__title"})}catch(h){t(h.message)}try{k(l,e.titleParams)}catch(h){t(h.message)}l.html=A(function(){var s,a="";try{s=e.titleNoescape}catch(r){s=!1,t(r.message)}if(s)try{a+=e.titleNoescape}catch(r){t(r.message+"120")}else try{a+=S(e.title)}catch(r){t(r.message+"123")}return a}),c=_[a],c&&(m+=s(c,l,!0))}try{r=e.subtitle||e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__subtitle">';try{r=e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r)try{m+=e.subtitleNoescape}catch(h){t(h.message+"136")}else try{m+=S(e.subtitle)}catch(h){t(h.message+"141")}m+="</span>"}try{r=e.captionHtml}catch(h){r=!1,t(h.message)}if(r)try{m+=e.captionHtml}catch(h){t(h.message+"150")}m+="</span>"}try{r=e.html}catch(h){r=!1,t(h.message)}if(r)try{m+=e.html}catch(h){t(h.message+"158")}return m}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.spring=function(e){var a="";try{var i=e.slot,n=~["number","string"].indexOf(typeof i)?{id:e.slot,region:e.region,sitezone:e.sitezone}:i}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,fest._helpers.mergeParams({attrs:e.src?{style:"background-image: url("+e.src+")"}:{}},e))}catch(o){t(o.message)}try{k(l,{baseClass:"spring"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=i}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"37")}return l}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__item=function(e){var a="";try{var i=fest._helpers.mergeTopParams,n=e.photo}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"grid__item"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";l+='<div class="grid__fixer">';try{r=e.slot}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=e.slot}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1)),l+='<!--# if expr="$SLOT_';try{l+=S(e.slot.id)}catch(m){t(m.message+"25")}l+='_SHOWN"--><!--# else-->';try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+="<!--# endif-->"}else{try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.banner}catch(m){r=!1,t(m.message)}if(r){a="spring",c={};try{c=e.banner}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.text}catch(m){r=!1,t(m.message)}if(r){l+='<span class="grid__text">';try{l+=e.text}catch(m){t(m.message+"63")}l+="</span>"}}}}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"72")}return l+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__row=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid__row"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.items||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__item",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.banner}catch(g){r=!1,t(g.message)}if(r){a="spring",n={};try{n={mix:["grid__spring"],slot:e.banner}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"29")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.rows||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__row",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"19")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){var a=e;r="ajax",l={},l.html=A(function(){var e,r,i,n,o,c,l,m="";try{l=a.previews||[],c=l.length}catch(h){l=[],c=0,t(h.message)}for(n=0;c>n;n++){o=l[n],e="viewbox__preview",i={};try{i={src:o,mix:["js-photo_slider_item","js-photo_preview"],mods:n==a.current?["active","loading"]:["loading"]}}catch(h){t(h.message)}r=_[e],r&&(m+=s(r,i,!1))}return m}),p.push(u,{name:r,params:l,cp:!0}),u=""}(e),o=p.length){for(n=0;o>n;n++)a=p[n],"string"==typeof a?d+=a:(c=_[a.name],c&&(d+=s(c,a.params,a.cp)));return d+u}return u}}(Function("return this")()),function(e){e.fest||(e.fest={}),e.fest["ct-viewbox-slides.xml"]=e.fest["bem/lady/web/web.bundles/ct-viewbox-slides"]=function(e){"use strict";function t(e){h(e+'\nin block "'+b+'" at line: '+v+"\nfile: "+y)}function s(e,t,s){if(s)for(var a in t)"function"==typeof t[a]&&t[a].param&&(t[a]=t[a]());return e.call(g,t)}var a,r,i,n,o,c,l,m,h,g=this,u="",p=[],f=[],d="",_={},y="",v="",b="",x=[],w={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},P=/[&<>"]/g,C=/[&<>"]/,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},S=function(e){return"string"==typeof e&&C.test(e)?e.replace(P,B):null==e?"":e},B=function(e){return I[e]},k=function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},A=function(e){return e.param=!0,e};g&&"function"==typeof g.i18n?g.i18n:function(e){return e};h="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;if(function(e){_.ajax=function(e){var s="";try{i=e.html}catch(a){i=!1,t(a.message)}if(i)try{s+=e.html}catch(a){t(a.message+"5")}return s}}(e),function(e){}(e),function(e){_.viewbox__slide=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__slide"})}catch(i){t(i.message)}return c=_[r],c&&(a+=s(c,l,!1)),a}}(e),function(e){_.viewbox__more=function(e){var a="";a+='<div class="viewbox__more">';var n,o,m,h;try{h=["previous","next"]||[],m=h.length}catch(g){h=[],m=0,t(g.message)}for(n=0;m>n;n++){o=h[n];try{i=e.fakecontrols&&e.fakecontrols[o]}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{l={baseClass:"viewbox__fakecontrol",baseParams:fest._helpers.mergeTopParams(e.fakecontrols[o],{mods:[o]})}}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}}try{i=e.buttons}catch(g){i=!1,t(g.message)}if(i){a+='<div class="viewbox__buttons">';var n,u,p,f;try{f=e.buttons||[],p=f.length}catch(g){f=[],p=0,t(g.message)}for(n=0;p>n;n++){u=f[n],r="button",l={};try{k(l,u)}catch(g){t(g.message)}try{k(l,fest._helpers.mergeTopParams(u,{mix:n?["margin_left_10"]:[],mods:["opaque"]}))}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}a+="</div>"}a+='<div class="viewbox__grid">',r="grid",l={};try{l=e.grid}catch(g){t(g.message)}return c=_[r],c&&(a+=s(c,l,!1)),a+="</div></div>"}}(e),function(e){_.viewbox__list=function(e){var a="";r="element",l={};try{l={baseParams:e.listParams,baseClass:"viewbox__list",elem:{baseParams:e.listContentParams,baseClass:"viewbox__list-content",elem:{baseParams:e.previewsParams,baseClass:"viewbox__previews"}}}}catch(i){t(i.message)}return c=_[r],c&&(a+=s(c,l,!1)),a}}(e),function(e){}(e),function(e){_.viewbox__error=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__error"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=fest._helpers.mergeParams(e.icon,{mix:["margin_bottom_70","viewbox__error-icon"]})}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}o+='<span class="viewbox__error-text">';try{o+=e.text||"Ошибка загрузки изображения"}catch(c){t(c.message+"22")}o+="</span>",a="element",n={};try{k(n,e.button)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__button",mods:["error"],html:e.button&&e.button.text||"Перезагрузить"})}catch(c){t(c.message)}return i=_[a],i&&(o+=s(i,n,!1)),o}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.viewbox__control=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__control"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";o+='<div class="viewbox__arrow">';try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=e.icon}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.element=function(e){var a="";try{var o=e.baseParams||e.forParams||e,h=o.attrs||{},g=e.baseClass||e.forClass||"",u=e.elem,p=e.htmlDeep;u&&p&&!u.htmlDeep?u.htmlDeep=p:!u&&p&&(e.html=p),e.href&&(h.href=e.href)}catch(f){t(f.message)}try{m=h.href&&"a"||e.tagName||"div","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(f){m="div",t(f.message)}x.push(m),a+="<"+m,a+=' class="';try{r=fest._helpers.classNamesFor(g,o)}catch(f){r="",t(f.message)}a+=r,a+='"';var d,y,v;try{v=h||{}}catch(f){n={},t(f.message)}for(d in v){y=v[d];try{r=d}catch(f){r="",t(f.message)}if(""!==r){a+=" "+r+'="';try{a+=S(y)}catch(f){t(f.message+"25")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.htmlPrepend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlPrepend}catch(f){t(f.message+"31")}try{i=e.html}catch(f){i=!1,t(f.message)}if(i)try{a+=e.html}catch(f){t(f.message+"34")}try{i=e.elem}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=e.elem}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.elems}catch(f){i=!1,t(f.message)}if(i){var b,u,P,C;try{C=e.elems||[],P=C.length}catch(f){C=[],P=0,t(f.message)}for(b=0;P>b;b++){u=C[b];try{i=u}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=u}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}}}try{i=e.htmlAppend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlAppend}catch(f){t(f.message+"47")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.icon=function(e){var a="";try{e.tag=e.tag||(e.href?"a":"i");var o=e.attrs=e.attrs||{};"title"in e&&!("title"in o)&&(o.title=e.title),"href"in e&&!("href"in o)&&(o.href=e.href)}catch(h){t(h.message)}try{m=e.tag,"string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(h){m="div",t(h.message)}x.push(m),a+="<"+m,a+=' class="';try{a+=S(fest._helpers.classNamesFor("icon",e))}catch(h){t(h.message+"15")}a+='"';var g,u,p;try{p=o||{}}catch(h){n={},t(h.message)}for(g in p){u=p[g];try{r=g}catch(h){r="",t(h.message)}if(""!==r){a+=" "+r+'="';try{a+=S(u)}catch(h){t(h.message+"22")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.icon}catch(h){i=!1,t(h.message)}if(i){r="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.html}catch(h){i=!1,t(h.message)}if(i)try{a+=e.html}catch(h){t(h.message+"32")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .33)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .66)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .33)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .66)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.button=function(e){var a="";try{var i,n=e.icon;
n&&(i=n.position||"left",n=fest._helpers.mergeParams(n,{mix:["button__icon"].concat(e.text||e.ending?["button__icon_"+i]:[])}))}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"button",tagName:e.tagName||"button"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=e.loader}catch(m){r=!1,t(m.message)}if(r){a="loader",c={};try{c={mods:["button"],mix:["button__loader"]}}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+='<span class="button__inner">';try{r="left"===i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.text}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.textParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__text",html:e.text})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.hiddenText}catch(m){r=!1,t(m.message)}if(r){l+='<span class="button__text button__text_hidden">';try{l+=e.hiddenText}catch(m){t(m.message+"56")}l+="</span>"}try{r=e.ending}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.endingParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__ending",html:e.ending})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r="right"==i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"79")}return l+="</span>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.share=function(e){var a="";try{i=e.name}catch(n){i=!1,t(n.message)}if(i){try{var o=[].concat(e.mods||[]);o.push(e.name);var m=e.innerParams||{mix:e.innerMix},h=e.countParams||{mix:e.countMix}}catch(n){t(n.message)}r="element",l={};try{k(l,e)}catch(n){t(n.message)}try{k(l,{baseClass:"share",href:e.href||"#"})}catch(n){t(n.message)}try{k(l,fest._helpers.mergeTopParams(e,{mods:o,attrs:{"data-share":e.name}}))}catch(n){t(n.message)}l.html=A(function(){var a,r,i,n,o="";a="element",n={};try{k(n,e.buttonParams)}catch(c){t(c.message)}try{k(n,{baseClass:"share__button"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o="";a="icon",n={};try{n={mods:["social","social_"+e.name]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1));try{r=e.text}catch(c){r=!1,t(c.message)}if(r){o+='<span class="share__text">';try{o+=e.text}catch(c){t(c.message+"44")}o+="</span>"}return o}),i=_[a],i&&(o+=s(i,n,!0));try{r=!e.hideCount}catch(c){r=!1,t(c.message)}if(r){a="element",n={};try{n={baseClass:"share__inner",baseParams:m,tagName:"span",elems:[{baseClass:"share__count",baseParams:h,tagName:"span",html:e.count||"0"},{baseClass:"share__like",tagName:"span",html:"+1"}]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o}),c=_[r],c&&(a+=s(c,l,!0))}return a}}(e),function(e){_.sharelist=function(e){var a="";try{var i=e.itemParams||{mix:e.itemMix},n=e.itemCountParams||{mix:e.itemCountMix},o=e.itemInnerParams||{mix:e.itemInnerMix},m=(e.countParams,e.mods&&~e.mods.indexOf("justify")),h=[{name:"ok",text:"Одноклассники"},{name:"vk",text:"ВКонтакте"},{name:"fb",text:"Facebook"},{name:"tw",text:"Twitter"},{name:"my",text:"Мой Мир"}],g=e.items||h;m&&(e.hideCount=!0)}catch(u){t(u.message)}r="element",l={};try{k(l,e)}catch(u){t(u.message)}try{k(l,{baseClass:"sharelist",baseParams:fest._helpers.mergeTopParams(e,{attrs:{onclick:e.onclick}})})}catch(u){t(u.message)}return l.html=A(function(){var a,r,c,l,m="";try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}try{r=e.text}catch(h){r=!1,t(h.message)}if(r){m+='<span class="sharelist__text">';try{m+=e.text}catch(h){t(h.message+"56")}m+="</span>"}m+='<div class="sharelist__items">';try{r=e.countParams}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{l={baseClass:"sharelist__count",baseParams:e.countParams}}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}var u,p,f,d;try{d=g||[],f=d.length}catch(h){d=[],f=0,t(h.message)}for(u=0;f>u;u++){p=d[u];try{p.hideCount=p.hideCount||e.hideCount,e.showLabels||(p.text=null)}catch(h){t(h.message)}a="share",l={};try{k(l,p)}catch(h){t(h.message)}try{k(l,i)}catch(h){t(h.message)}try{k(l,{buttonParams:e.buttonParams,countParams:n,innerParams:o})}catch(h){t(h.message)}try{k(l,fest._helpers.mergeTopParams(p,i))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_["rb-slot"]=function(e){var a="";try{var n,o,m,h=["sitezone","string","region"];e.id&&(n="/rb/"+e.id,o="rb: "+e.id,m=h.reduce(function(t,s){return e[s]&&t.push("_"+s.toUpperCase()+"="+e[s]),t},[]),m&&m.length&&(n+="?"+m.join("&"),o+="?"+m.join("&")),e.name&&(o+=" ("+e.name+")"))}catch(g){t(g.message)}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- ";try{a+=o}catch(g){t(g.message+"30")}a+=" -->"}try{i=e.beforeInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.beforeInclude}catch(g){t(g.message+"34")}try{i=e.async}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{k(l,e.asyncParams)}catch(g){t(g.message)}try{k(l,{baseClass:"rb-slot"})}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}else{try{i=n}catch(g){i=!1,t(g.message)}if(i){a+='<!--#include virtual="';try{a+=n}catch(g){t(g.message+"48")}a+='" wait="yes"-->'}}try{i=e.afterInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.afterInclude}catch(g){t(g.message+"52")}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- /";try{a+=o}catch(g){t(g.message+"56")}a+=" -->"}return a}}(e),function(e){_.element_ssi=function(e){var s="";try{var a=e.attrs||{};e.href&&(a.href=e.href)}catch(o){t(o.message)}try{m=a.href&&"a"||e.tagName||"span","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(o){m="div",t(o.message)}x.push(m),s+="<"+m,s+=' class="';try{r=fest._helpers.classNamesFor(e.baseClass,e)}catch(o){r="",t(o.message)}s+=r,s+='"';var c,l,h;try{h=a||{}}catch(o){n={},t(o.message)}for(c in h){l=h[c];try{r=c}catch(o){r="",t(o.message)}if(""!==r){s+=" "+r+'="';try{i=l.indexOf&&l.indexOf("--# echo")>-1}catch(o){i=!1,t(o.message)}if(i)try{s+=l}catch(o){t(o.message+"17")}else try{s+=S(l)}catch(o){t(o.message+"20")}s+='"'}}m=x[x.length-1],s+=m in w?"/>":">";try{i=e.html}catch(o){i=!1,t(o.message)}if(i)try{s+=e.html}catch(o){t(o.message+"27")}return m=x[x.length-1],m in w||(s+="</"+m+">"),x.pop(),s}}(e),function(e){_.badge=function(e){var a="";r="element",l={};try{k(l,{tagName:"span"})}catch(i){t(i.message)}try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"badge"})}catch(i){t(i.message)}return l.html=A(function(){var s,a="";try{s=e.src}catch(r){s=!1,t(r.message)}if(s){try{f[0]=S(e.src)}catch(r){f[0]="",t(r.message)}a+='<img src="'+f[0]+'" class="badge__icon"/>'}try{s=e.text}catch(r){s=!1,t(r.message)}if(s){a+='<span class="badge__text">';try{a+=e.text}catch(r){t(r.message+"22")}a+="</span>"}return a}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){}(e),function(e){_.photo=function(e){var a="";try{var i=e.actionParams||{mix:e.actionMix},n=e.picParams||{mix:e.picMix},o=e.mods&&~e.mods.indexOf("full")}catch(m){t(m.message)}r="element_ssi",l={};try{k(l,e)}catch(m){t(m.message)}try{k(l,{baseClass:"photo"})}catch(m){t(m.message)}return l.html=A(function(){var a,r,c,l,m="";a="element",l={};try{k(l,e.innerParams)}catch(h){t(h.message)}try{k(l,{baseClass:"photo__inner"})}catch(h){t(h.message)}l.html=A(function(){var a,r,c,l,m="";try{r=e.action}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__action",i))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'"><span class="photo__action-inner">',a="icon",l={};try{l=e.action}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span></span>"}try{r=e.labels}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__labels",e.labels))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'">';var g,u,p,d;try{d=e.labels.items||[],p=d.length}catch(h){d=[],p=0,t(h.message)}for(g=0;p>g;g++){u=d[g],a="badge",l={};try{k(l,u)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({mix:["photo__label"]},u))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}m+="</span>"}try{r=e.src}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,n)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({attrs:o?{style:"background-image:url("+e.src+")"}:{src:e.src}},n))}catch(h){t(h.message)}try{k(l,{baseClass:"photo__pic",tagName:o?"span":"img"})}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m}),c=_[a],c&&(m+=s(c,l,!0));try{r=e.title||e.titleNoescape||e.subtitle||e.count||e.icon||e.captionHtml}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(e.count||e.icon?" photo__captions_icon":"")}catch(h){f[0]="",t(h.message)}m+='<span class="photo__captions'+f[0]+'">';try{r=e.count}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__count">';try{m+=S(e.count)}catch(h){t(h.message+"88")}m+="</span>"}try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__icon">',a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span>"}try{r=e.param}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__param">';try{m+=S(e.param)}catch(h){t(h.message+"104")}m+="</span>"}try{r=e.title||e.titleNoescape}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,{tagName:"span",baseClass:"photo__title"})}catch(h){t(h.message)}try{k(l,e.titleParams)}catch(h){t(h.message)}l.html=A(function(){var s,a="";try{s=e.titleNoescape}catch(r){s=!1,t(r.message)}if(s)try{a+=e.titleNoescape}catch(r){t(r.message+"120")}else try{a+=S(e.title)}catch(r){t(r.message+"123")}return a}),c=_[a],c&&(m+=s(c,l,!0))}try{r=e.subtitle||e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__subtitle">';try{r=e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r)try{m+=e.subtitleNoescape}catch(h){t(h.message+"136")}else try{m+=S(e.subtitle)}catch(h){t(h.message+"141")}m+="</span>"}try{r=e.captionHtml}catch(h){r=!1,t(h.message)}if(r)try{m+=e.captionHtml}catch(h){t(h.message+"150")}m+="</span>"}try{r=e.html}catch(h){r=!1,t(h.message)}if(r)try{m+=e.html}catch(h){t(h.message+"158")}return m}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.spring=function(e){var a="";try{var i=e.slot,n=~["number","string"].indexOf(typeof i)?{id:e.slot,region:e.region,sitezone:e.sitezone}:i}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,fest._helpers.mergeParams({attrs:e.src?{style:"background-image: url("+e.src+")"}:{}},e))}catch(o){t(o.message)}try{k(l,{baseClass:"spring"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=i}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"37")}return l}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__item=function(e){var a="";try{var i=fest._helpers.mergeTopParams,n=e.photo}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"grid__item"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";l+='<div class="grid__fixer">';try{r=e.slot}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=e.slot}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1)),l+='<!--# if expr="$SLOT_';try{l+=S(e.slot.id)}catch(m){t(m.message+"25")}l+='_SHOWN"--><!--# else-->';try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+="<!--# endif-->"}else{try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.banner}catch(m){r=!1,t(m.message)}if(r){a="spring",c={};try{c=e.banner}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.text}catch(m){r=!1,t(m.message)}if(r){l+='<span class="grid__text">';try{l+=e.text}catch(m){t(m.message+"63")}l+="</span>"}}}}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"72")}return l+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__row=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid__row"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.items||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__item",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.banner}catch(g){r=!1,t(g.message)}if(r){a="spring",n={};try{n={mix:["grid__spring"],slot:e.banner}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"29")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.rows||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__row",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"19")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){var a=e;r="ajax",l={},l.html=A(function(){var e,r,i,n,o="";try{a.params&&a.params.addLastFrame}catch(c){t(c.message)}var l,m,h,g;try{g=a.images||[],h=g.length}catch(c){g=[],h=0,t(c.message)}for(l=0;h>l;l++){m=g[l],e="viewbox__slide",n={};try{n={mix:["js-slider__item","js-module__spring"],attrs:{"data-module":"BannerController","data-view":"Banner.imageOverlay"}}}catch(c){t(c.message)}i=_[e],i&&(o+=s(i,n,!1))}try{r=a.params&&a.params.addLastFrame}catch(c){r=!1,t(c.message)}if(r){e="viewbox__slide",n={};try{n={mix:["js-slider__item","js-splash"]}}catch(c){t(c.message)}i=_[e],i&&(o+=s(i,n,!1))}return o}),p.push(u,{name:r,params:l,cp:!0}),u=""}(e),o=p.length){for(n=0;o>n;n++)a=p[n],"string"==typeof a?d+=a:(c=_[a.name],c&&(d+=s(c,a.params,a.cp)));return d+u}return u}}(Function("return this")()),function(e){e.fest||(e.fest={}),e.fest["ct-viewbox-slide-content.xml"]=e.fest["bem/lady/web/web.bundles/ct-viewbox-slide-content"]=function(e){"use strict";function t(e){h(e+'\nin block "'+b+'" at line: '+v+"\nfile: "+y)}function s(e,t,s){if(s)for(var a in t)"function"==typeof t[a]&&t[a].param&&(t[a]=t[a]());return e.call(g,t)}var a,r,i,n,o,c,l,m,h,g=this,u="",p=[],f=[],d="",_={},y="",v="",b="",x=[],w={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},P=/[&<>"]/g,C=/[&<>"]/,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},S=function(e){return"string"==typeof e&&C.test(e)?e.replace(P,B):null==e?"":e},B=function(e){return I[e]},k=function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},A=function(e){return e.param=!0,e};g&&"function"==typeof g.i18n?g.i18n:function(e){return e};h="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;if(function(e){_.ajax=function(e){var s="";try{i=e.html}catch(a){i=!1,t(a.message)}if(i)try{s+=e.html}catch(a){t(a.message+"5")}return s}}(e),function(e){}(e),function(e){}(e),function(e){_.viewbox__more=function(e){var a="";a+='<div class="viewbox__more">';var n,o,m,h;try{h=["previous","next"]||[],m=h.length}catch(g){h=[],m=0,t(g.message)}for(n=0;m>n;n++){o=h[n];try{i=e.fakecontrols&&e.fakecontrols[o]}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{l={baseClass:"viewbox__fakecontrol",baseParams:fest._helpers.mergeTopParams(e.fakecontrols[o],{mods:[o]})}}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}}try{i=e.buttons}catch(g){i=!1,t(g.message)}if(i){a+='<div class="viewbox__buttons">';var n,u,p,f;try{f=e.buttons||[],p=f.length}catch(g){f=[],p=0,t(g.message)}for(n=0;p>n;n++){u=f[n],r="button",l={};try{k(l,u)}catch(g){t(g.message)}try{k(l,fest._helpers.mergeTopParams(u,{mix:n?["margin_left_10"]:[],mods:["opaque"]}))}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}a+="</div>"}a+='<div class="viewbox__grid">',r="grid",l={};try{l=e.grid}catch(g){t(g.message)}return c=_[r],c&&(a+=s(c,l,!1)),a+="</div></div>"}}(e),function(e){_.viewbox__list=function(e){var a="";r="element",l={};try{l={baseParams:e.listParams,baseClass:"viewbox__list",elem:{baseParams:e.listContentParams,baseClass:"viewbox__list-content",elem:{baseParams:e.previewsParams,baseClass:"viewbox__previews"}}}}catch(i){t(i.message)}return c=_[r],c&&(a+=s(c,l,!1)),a}}(e),function(e){}(e),function(e){_.viewbox__error=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__error"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=fest._helpers.mergeParams(e.icon,{mix:["margin_bottom_70","viewbox__error-icon"]})}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}o+='<span class="viewbox__error-text">';try{o+=e.text||"Ошибка загрузки изображения"}catch(c){t(c.message+"22")}o+="</span>",a="element",n={};try{k(n,e.button)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__button",mods:["error"],html:e.button&&e.button.text||"Перезагрузить"})}catch(c){t(c.message)}return i=_[a],i&&(o+=s(i,n,!1)),o}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.viewbox__control=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__control"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o="";o+='<div class="viewbox__arrow">';try{r=e.icon}catch(c){r=!1,t(c.message)}if(r){a="icon",n={};try{n=e.icon}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.viewbox__wrapper=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"viewbox__wrapper"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n="";n+='<div class="viewbox__holder">',a="element",i={};try{k(i,{baseParams:e.cellParams,baseClass:"viewbox__cell"})}catch(o){t(o.message)}return i.html=A(function(){var a,r,i,n,o="";o+='<div class="viewbox__slide-inner"><div class="viewbox__loader">',a="loader",n={};try{n={mods:["large"]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1)),o+="</div>",a="element",n={};try{k(n,e.contentParams)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__content"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o="";try{r=e.more}catch(c){r=!1,t(c.message)}if(r){a="viewbox__more",n={};try{n=e.more}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}else{a="element",n={};try{k(n,e.photoParams)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__photo"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=["previous","next"]||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o];try{r=e.fakecontrols&&e.fakecontrols[c]}catch(g){r=!1,t(g.message)}if(r){a="element",n={};try{n={baseClass:"viewbox__fakecontrol",baseParams:fest._helpers.mergeTopParams(e.fakecontrols[c],{mods:[c]})}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}}a="element",n={};try{n={tagName:"img",baseClass:"viewbox__image",baseParams:fest._helpers.mergeTopParams(e.imageParams,{attrs:{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}})}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1)),a="viewbox__error",n={};try{n=e.error||{}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1));try{r=e.shares}catch(g){r=!1,t(g.message)}if(r){a="sharelist",n={};try{k(n,e.shares)}catch(g){t(g.message)}try{k(n,fest._helpers.mergeTopParams(e.shares,{mods:["media"],mix:["viewbox__shares"]}))}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}h+='<div class="viewbox__additional"><div class="viewbox__info">';var o,u,p,f;try{f=e.actions||[],p=f.length}catch(g){f=[],p=0,t(g.message)}for(o=0;p>o;o++){u=f[o],a="element",n={};try{k(n,u)}catch(g){t(g.message)}try{k(n,{forClass:"viewbox__action"})}catch(g){t(g.message)}n.html=A(function(){var e,a,r,i,n="";try{a=u.icon}catch(o){a=!1,t(o.message)}if(a){e="icon",i={};try{i=u.icon}catch(o){t(o.message)}r=_[e],r&&(n+=s(r,i,!1))}try{a=u.text}catch(o){a=!1,t(o.message)}if(a){n+='<span class="viewbox__action-side"><span class="viewbox__action-text">';try{n+=u.text}catch(o){t(o.message+"115")}n+="</span></span>"}return n}),i=_[a],i&&(h+=s(i,n,!0))}try{r=e.date||e.source}catch(g){r=!1,t(g.message)}if(r){h+='<div class="viewbox__params">';var o,d,y,v;try{v=["date","source"]||[],y=v.length}catch(g){v=[],y=0,t(g.message)}for(o=0;y>o;o++){d=v[o];try{r=e[d]}catch(g){r=!1,t(g.message)}if(r){a="element",n={};try{k(n,e[d])}catch(g){t(g.message)}try{k(n,{baseClass:"viewbox__param",html:e[d].text||""})}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}}h+="</div>"}h+="</div>";try{r=e.total>1}catch(g){r=!1,t(g.message)}if(r){a="element",n={};try{k(n,{baseClass:"viewbox__info",mods:["small"]})}catch(g){t(g.message)}n.html=A(function(){var s="";s+='<div class="viewbox__count"><span class="viewbox__current">';try{s+=e.current||""}catch(a){t(a.message+"154")}s+='</span> / <span class="viewbox__total">';try{s+=e.total||""}catch(a){t(a.message+"160")}return s+="</span></div>"}),i=_[a],i&&(h+=s(i,n,!0))}return h+="</div>"}),i=_[a],i&&(o+=s(i,n,!0)),a="element",n={};try{k(n,e.bottomParams)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__bottom"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=["note","title","text"]||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o];try{r=e[c]}catch(g){r=!1,t(g.message)}if(r){a="element",n={};try{n={baseClass:"viewbox__"+c,html:e[c]}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}}try{r=e.bottomHtml}catch(g){r=!1,t(g.message)}if(r)try{h+=e.bottomHtml}catch(g){t(g.message+"194")}return h}),i=_[a],i&&(o+=s(i,n,!0))}return o}),i=_[a],i&&(o+=s(i,n,!0));try{r=e.sideHtml||e.sideParams}catch(c){r=!1,t(c.message)}if(r){a="element",n={};try{k(n,e.sideParams)}catch(c){t(c.message)}try{k(n,{baseClass:"viewbox__side"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o="";try{r=e.sideLoader}catch(c){r=!1,t(c.message)}if(r){a="loader",n={};try{n={mods:["medium"],mix:["viewbox__side-loader"]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}try{r=e.sideHtml}catch(c){r=!1,t(c.message)}if(r)try{o+=e.sideHtml}catch(c){t(c.message+"228")}return o}),i=_[a],i&&(o+=s(i,n,!0))}return o+="</div>"}),r=_[a],r&&(n+=s(r,i,!0)),n+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.element=function(e){var a="";try{var o=e.baseParams||e.forParams||e,h=o.attrs||{},g=e.baseClass||e.forClass||"",u=e.elem,p=e.htmlDeep;u&&p&&!u.htmlDeep?u.htmlDeep=p:!u&&p&&(e.html=p),e.href&&(h.href=e.href)}catch(f){t(f.message)}try{m=h.href&&"a"||e.tagName||"div","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(f){m="div",t(f.message)}x.push(m),a+="<"+m,a+=' class="';try{r=fest._helpers.classNamesFor(g,o)}catch(f){r="",t(f.message)}a+=r,a+='"';var d,y,v;try{v=h||{}}catch(f){n={},t(f.message)}for(d in v){y=v[d];try{r=d}catch(f){r="",t(f.message)}if(""!==r){a+=" "+r+'="';try{a+=S(y)}catch(f){t(f.message+"25")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.htmlPrepend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlPrepend}catch(f){t(f.message+"31")}try{i=e.html}catch(f){i=!1,t(f.message)}if(i)try{a+=e.html}catch(f){t(f.message+"34")}try{i=e.elem}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=e.elem}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.elems}catch(f){i=!1,t(f.message)}if(i){var b,u,P,C;try{C=e.elems||[],P=C.length}catch(f){C=[],P=0,t(f.message)}for(b=0;P>b;b++){u=C[b];try{i=u}catch(f){i=!1,t(f.message)}if(i){r="element",l={};try{l=u}catch(f){t(f.message)}c=_[r],c&&(a+=s(c,l,!1))}}}try{i=e.htmlAppend}catch(f){i=!1,t(f.message)}if(i)try{a+=e.htmlAppend}catch(f){t(f.message+"47")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.icon=function(e){var a="";try{e.tag=e.tag||(e.href?"a":"i");var o=e.attrs=e.attrs||{};"title"in e&&!("title"in o)&&(o.title=e.title),"href"in e&&!("href"in o)&&(o.href=e.href)}catch(h){t(h.message)}try{m=e.tag,"string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(h){m="div",t(h.message)}x.push(m),a+="<"+m,a+=' class="';try{a+=S(fest._helpers.classNamesFor("icon",e))}catch(h){t(h.message+"15")}a+='"';var g,u,p;try{p=o||{}}catch(h){n={},t(h.message)}for(g in p){u=p[g];try{r=g}catch(h){r="",t(h.message)}if(""!==r){a+=" "+r+'="';try{a+=S(u)}catch(h){t(h.message+"22")}a+='"'}}m=x[x.length-1],a+=m in w?"/>":">";try{i=e.icon}catch(h){i=!1,t(h.message)}if(i){r="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[r],c&&(a+=s(c,l,!1))}try{i=e.html}catch(h){i=!1,t(h.message)}if(i)try{a+=e.html}catch(h){t(h.message+"32")}return m=x[x.length-1],m in w||(a+="</"+m+">"),x.pop(),a}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .33)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, .66)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(119, 119, 119, 1)"></stop><stop offset="100%" stop-color="rgba(119, 119, 119, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.loader=function(e){var s="";try{f[0]=S(fest._helpers.classNamesFor("loader",e))}catch(a){f[0]="",t(a.message)}return s+='<svg class="'+f[0]+'" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-10 -10 220 220"><defs><linearGradient id="transparent" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop></linearGradient><linearGradient id="one" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 0)" stop-opacity="0"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .33)"></stop></linearGradient><linearGradient id="two" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .33)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, .66)"></stop></linearGradient><linearGradient id="three" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, .66)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="four" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient><linearGradient id="five" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="rgba(255, 45, 84, 1)"></stop><stop offset="100%" stop-color="rgba(255, 45, 84, 1)"></stop></linearGradient></defs><g fill="none" stroke-width="40" transform="translate(100,100)"><path d="M 81.6,-40 A 90,90 0 0,1 81.6,40" stroke="url(#transparent)"></path><path d="M 81.6,40 A 90,90 0 0,1 0,90" stroke="url(#one)"></path><path d="M 0,90 A 90,90 0 0,1 -81.6,40" stroke="url(#two)"></path><path d="M -81.6,40 A 90,90 0 0,1 -81.6,-40" stroke="url(#three)"></path><path d="M -81.6,-40 A 90,90 0 0,1 0,-90" stroke="url(#four)"></path><path d="M 0,-90 A 90,90 0 0,1 81.6,-40" stroke="url(#five)" stroke-linecap="round"></path></g></svg>'}}(e),function(e){_.button=function(e){var a="";try{var i,n=e.icon;n&&(i=n.position||"left",n=fest._helpers.mergeParams(n,{mix:["button__icon"].concat(e.text||e.ending?["button__icon_"+i]:[])}))}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"button",tagName:e.tagName||"button"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=e.loader}catch(m){r=!1,t(m.message)}if(r){a="loader",c={};try{c={mods:["button"],mix:["button__loader"]}}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+='<span class="button__inner">';try{r="left"===i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.text}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.textParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__text",html:e.text})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.hiddenText}catch(m){r=!1,t(m.message)}if(r){l+='<span class="button__text button__text_hidden">';try{l+=e.hiddenText}catch(m){t(m.message+"56")}l+="</span>"}try{r=e.ending}catch(m){r=!1,t(m.message)}if(r){a="element",c={};try{k(c,e.endingParams)}catch(m){t(m.message)}try{k(c,{baseClass:"button__ending",html:e.ending})}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r="right"==i}catch(m){r=!1,t(m.message)}if(r){a="icon",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"79")}return l+="</span>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){_.share=function(e){var a="";try{i=e.name}catch(n){i=!1,t(n.message)}if(i){try{var o=[].concat(e.mods||[]);o.push(e.name);var m=e.innerParams||{mix:e.innerMix},h=e.countParams||{mix:e.countMix}}catch(n){t(n.message)}r="element",l={};try{k(l,e)}catch(n){t(n.message)}try{k(l,{baseClass:"share",href:e.href||"#"})}catch(n){t(n.message)}try{k(l,fest._helpers.mergeTopParams(e,{mods:o,attrs:{"data-share":e.name}}))}catch(n){t(n.message)}l.html=A(function(){var a,r,i,n,o="";a="element",n={};try{k(n,e.buttonParams)}catch(c){t(c.message)}try{k(n,{baseClass:"share__button"})}catch(c){t(c.message)}n.html=A(function(){var a,r,i,n,o="";a="icon",n={};try{n={mods:["social","social_"+e.name]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1));try{r=e.text}catch(c){r=!1,t(c.message)}if(r){o+='<span class="share__text">';try{o+=e.text}catch(c){t(c.message+"44")}o+="</span>"}return o}),i=_[a],i&&(o+=s(i,n,!0));try{r=!e.hideCount}catch(c){r=!1,t(c.message)}if(r){a="element",n={};try{n={baseClass:"share__inner",baseParams:m,tagName:"span",elems:[{baseClass:"share__count",baseParams:h,tagName:"span",html:e.count||"0"},{baseClass:"share__like",tagName:"span",html:"+1"}]}}catch(c){t(c.message)}i=_[a],i&&(o+=s(i,n,!1))}return o}),c=_[r],c&&(a+=s(c,l,!0))}return a}}(e),function(e){_.sharelist=function(e){var a="";try{var i=e.itemParams||{
mix:e.itemMix},n=e.itemCountParams||{mix:e.itemCountMix},o=e.itemInnerParams||{mix:e.itemInnerMix},m=(e.countParams,e.mods&&~e.mods.indexOf("justify")),h=[{name:"ok",text:"Одноклассники"},{name:"vk",text:"ВКонтакте"},{name:"fb",text:"Facebook"},{name:"tw",text:"Twitter"},{name:"my",text:"Мой Мир"}],g=e.items||h;m&&(e.hideCount=!0)}catch(u){t(u.message)}r="element",l={};try{k(l,e)}catch(u){t(u.message)}try{k(l,{baseClass:"sharelist",baseParams:fest._helpers.mergeTopParams(e,{attrs:{onclick:e.onclick}})})}catch(u){t(u.message)}return l.html=A(function(){var a,r,c,l,m="";try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}try{r=e.text}catch(h){r=!1,t(h.message)}if(r){m+='<span class="sharelist__text">';try{m+=e.text}catch(h){t(h.message+"56")}m+="</span>"}m+='<div class="sharelist__items">';try{r=e.countParams}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{l={baseClass:"sharelist__count",baseParams:e.countParams}}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}var u,p,f,d;try{d=g||[],f=d.length}catch(h){d=[],f=0,t(h.message)}for(u=0;f>u;u++){p=d[u];try{p.hideCount=p.hideCount||e.hideCount,e.showLabels||(p.text=null)}catch(h){t(h.message)}a="share",l={};try{k(l,p)}catch(h){t(h.message)}try{k(l,i)}catch(h){t(h.message)}try{k(l,{buttonParams:e.buttonParams,countParams:n,innerParams:o})}catch(h){t(h.message)}try{k(l,fest._helpers.mergeTopParams(p,i))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_["rb-slot"]=function(e){var a="";try{var n,o,m,h=["sitezone","string","region"];e.id&&(n="/rb/"+e.id,o="rb: "+e.id,m=h.reduce(function(t,s){return e[s]&&t.push("_"+s.toUpperCase()+"="+e[s]),t},[]),m&&m.length&&(n+="?"+m.join("&"),o+="?"+m.join("&")),e.name&&(o+=" ("+e.name+")"))}catch(g){t(g.message)}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- ";try{a+=o}catch(g){t(g.message+"30")}a+=" -->"}try{i=e.beforeInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.beforeInclude}catch(g){t(g.message+"34")}try{i=e.async}catch(g){i=!1,t(g.message)}if(i){r="element",l={};try{k(l,e.asyncParams)}catch(g){t(g.message)}try{k(l,{baseClass:"rb-slot"})}catch(g){t(g.message)}c=_[r],c&&(a+=s(c,l,!1))}else{try{i=n}catch(g){i=!1,t(g.message)}if(i){a+='<!--#include virtual="';try{a+=n}catch(g){t(g.message+"48")}a+='" wait="yes"-->'}}try{i=e.afterInclude}catch(g){i=!1,t(g.message)}if(i)try{a+=e.afterInclude}catch(g){t(g.message+"52")}try{i=o}catch(g){i=!1,t(g.message)}if(i){a+="<!-- /";try{a+=o}catch(g){t(g.message+"56")}a+=" -->"}return a}}(e),function(e){_.element_ssi=function(e){var s="";try{var a=e.attrs||{};e.href&&(a.href=e.href)}catch(o){t(o.message)}try{m=a.href&&"a"||e.tagName||"span","string"!=typeof m&&(t("Element name must be a string"),m="div")}catch(o){m="div",t(o.message)}x.push(m),s+="<"+m,s+=' class="';try{r=fest._helpers.classNamesFor(e.baseClass,e)}catch(o){r="",t(o.message)}s+=r,s+='"';var c,l,h;try{h=a||{}}catch(o){n={},t(o.message)}for(c in h){l=h[c];try{r=c}catch(o){r="",t(o.message)}if(""!==r){s+=" "+r+'="';try{i=l.indexOf&&l.indexOf("--# echo")>-1}catch(o){i=!1,t(o.message)}if(i)try{s+=l}catch(o){t(o.message+"17")}else try{s+=S(l)}catch(o){t(o.message+"20")}s+='"'}}m=x[x.length-1],s+=m in w?"/>":">";try{i=e.html}catch(o){i=!1,t(o.message)}if(i)try{s+=e.html}catch(o){t(o.message+"27")}return m=x[x.length-1],m in w||(s+="</"+m+">"),x.pop(),s}}(e),function(e){_.badge=function(e){var a="";r="element",l={};try{k(l,{tagName:"span"})}catch(i){t(i.message)}try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"badge"})}catch(i){t(i.message)}return l.html=A(function(){var s,a="";try{s=e.src}catch(r){s=!1,t(r.message)}if(s){try{f[0]=S(e.src)}catch(r){f[0]="",t(r.message)}a+='<img src="'+f[0]+'" class="badge__icon"/>'}try{s=e.text}catch(r){s=!1,t(r.message)}if(s){a+='<span class="badge__text">';try{a+=e.text}catch(r){t(r.message+"22")}a+="</span>"}return a}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){}(e),function(e){_.photo=function(e){var a="";try{var i=e.actionParams||{mix:e.actionMix},n=e.picParams||{mix:e.picMix},o=e.mods&&~e.mods.indexOf("full")}catch(m){t(m.message)}r="element_ssi",l={};try{k(l,e)}catch(m){t(m.message)}try{k(l,{baseClass:"photo"})}catch(m){t(m.message)}return l.html=A(function(){var a,r,c,l,m="";a="element",l={};try{k(l,e.innerParams)}catch(h){t(h.message)}try{k(l,{baseClass:"photo__inner"})}catch(h){t(h.message)}l.html=A(function(){var a,r,c,l,m="";try{r=e.action}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__action",i))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'"><span class="photo__action-inner">',a="icon",l={};try{l=e.action}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span></span>"}try{r=e.labels}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(fest._helpers.classNamesFor("photo__labels",e.labels))}catch(h){f[0]="",t(h.message)}m+='<span class="'+f[0]+'">';var g,u,p,d;try{d=e.labels.items||[],p=d.length}catch(h){d=[],p=0,t(h.message)}for(g=0;p>g;g++){u=d[g],a="badge",l={};try{k(l,u)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({mix:["photo__label"]},u))}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}m+="</span>"}try{r=e.src}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,n)}catch(h){t(h.message)}try{k(l,fest._helpers.mergeParams({attrs:o?{style:"background-image:url("+e.src+")"}:{src:e.src}},n))}catch(h){t(h.message)}try{k(l,{baseClass:"photo__pic",tagName:o?"span":"img"})}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1))}return m}),c=_[a],c&&(m+=s(c,l,!0));try{r=e.title||e.titleNoescape||e.subtitle||e.count||e.icon||e.captionHtml}catch(h){r=!1,t(h.message)}if(r){try{f[0]=S(e.count||e.icon?" photo__captions_icon":"")}catch(h){f[0]="",t(h.message)}m+='<span class="photo__captions'+f[0]+'">';try{r=e.count}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__count">';try{m+=S(e.count)}catch(h){t(h.message+"88")}m+="</span>"}try{r=e.icon}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__icon">',a="icon",l={};try{l=e.icon}catch(h){t(h.message)}c=_[a],c&&(m+=s(c,l,!1)),m+="</span>"}try{r=e.param}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__param">';try{m+=S(e.param)}catch(h){t(h.message+"104")}m+="</span>"}try{r=e.title||e.titleNoescape}catch(h){r=!1,t(h.message)}if(r){a="element",l={};try{k(l,{tagName:"span",baseClass:"photo__title"})}catch(h){t(h.message)}try{k(l,e.titleParams)}catch(h){t(h.message)}l.html=A(function(){var s,a="";try{s=e.titleNoescape}catch(r){s=!1,t(r.message)}if(s)try{a+=e.titleNoescape}catch(r){t(r.message+"120")}else try{a+=S(e.title)}catch(r){t(r.message+"123")}return a}),c=_[a],c&&(m+=s(c,l,!0))}try{r=e.subtitle||e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r){m+='<span class="photo__subtitle">';try{r=e.subtitleNoescape}catch(h){r=!1,t(h.message)}if(r)try{m+=e.subtitleNoescape}catch(h){t(h.message+"136")}else try{m+=S(e.subtitle)}catch(h){t(h.message+"141")}m+="</span>"}try{r=e.captionHtml}catch(h){r=!1,t(h.message)}if(r)try{m+=e.captionHtml}catch(h){t(h.message+"150")}m+="</span>"}try{r=e.html}catch(h){r=!1,t(h.message)}if(r)try{m+=e.html}catch(h){t(h.message+"158")}return m}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.spring=function(e){var a="";try{var i=e.slot,n=~["number","string"].indexOf(typeof i)?{id:e.slot,region:e.region,sitezone:e.sitezone}:i}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,fest._helpers.mergeParams({attrs:e.src?{style:"background-image: url("+e.src+")"}:{}},e))}catch(o){t(o.message)}try{k(l,{baseClass:"spring"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";try{r=i}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=n}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"37")}return l}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__item=function(e){var a="";try{var i=fest._helpers.mergeTopParams,n=e.photo}catch(o){t(o.message)}r="element",l={};try{k(l,e)}catch(o){t(o.message)}try{k(l,{baseClass:"grid__item"})}catch(o){t(o.message)}return l.html=A(function(){var a,r,o,c,l="";l+='<div class="grid__fixer">';try{r=e.slot}catch(m){r=!1,t(m.message)}if(r){a="rb-slot",c={};try{c=e.slot}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1)),l+='<!--# if expr="$SLOT_';try{l+=S(e.slot.id)}catch(m){t(m.message+"25")}l+='_SHOWN"--><!--# else-->';try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}l+="<!--# endif-->"}else{try{r=n}catch(m){r=!1,t(m.message)}if(r){a="photo",c={};try{k(c,n)}catch(m){t(m.message)}try{k(c,i(n,{mix:["grid__photo"]}))}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.banner}catch(m){r=!1,t(m.message)}if(r){a="spring",c={};try{c=e.banner}catch(m){t(m.message)}o=_[a],o&&(l+=s(o,c,!1))}else{try{r=e.text}catch(m){r=!1,t(m.message)}if(r){l+='<span class="grid__text">';try{l+=e.text}catch(m){t(m.message+"63")}l+="</span>"}}}}try{r=e.html}catch(m){r=!1,t(m.message)}if(r)try{l+=e.html}catch(m){t(m.message+"72")}return l+="</div>"}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid__row=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid__row"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.items||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__item",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.banner}catch(g){r=!1,t(g.message)}if(r){a="spring",n={};try{n={mix:["grid__spring"],slot:e.banner}}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"29")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){_.grid=function(e){var a="";r="element",l={};try{k(l,e)}catch(i){t(i.message)}try{k(l,{baseClass:"grid"})}catch(i){t(i.message)}return l.html=A(function(){var a,r,i,n,o,c,l,m,h="";try{m=e.rows||[],l=m.length}catch(g){m=[],l=0,t(g.message)}for(o=0;l>o;o++){c=m[o],a="grid__row",n={};try{n=c}catch(g){t(g.message)}i=_[a],i&&(h+=s(i,n,!1))}try{r=e.html}catch(g){r=!1,t(g.message)}if(r)try{h+=e.html}catch(g){t(g.message+"19")}return h}),c=_[r],c&&(a+=s(c,l,!0)),a}}(e),function(e){}(e),function(e){var a=e;r="ajax",l={},l.html=A(function(){var e,r,i,n="";try{var o=a.image,c=a.images[a.image],l=a.params}catch(m){t(m.message)}e="viewbox__wrapper",i={};try{k(i,{error:{icon:{mods:["refresh"]},button:{mix:["js-photo_reload"]}},cellParams:{mix:["js-size-reference"]},imageParams:{mix:["js-photo"]},photoParams:{mix:["js-popup_noclose"]},bottomParams:{mix:["js-popup_noclose"]},contentParams:{mix:["js-photo_container"]},title:!o&&l.title||c.title,current:a.image+1,total:a.images.length,text:c.description,actions:[{attrs:{target:"_blank",href:c.original},text:"Оригинал",icon:{mods:["original"]}},{text:"Сохранить",attrs:{href:c.download},icon:{mods:["download"]}}],sideLoader:!0})}catch(m){t(m.message)}return i.sideHtml=A(function(){var e="";return e+='<div class="js-popup_banner js-popup_noclose"></div>'}),r=_[e],r&&(n+=s(r,i,!0)),n}),p.push(u,{name:r,params:l,cp:!0}),u=""}(e),o=p.length){for(n=0;o>n;n++)a=p[n],"string"==typeof a?d+=a:(c=_[a.name],c&&(d+=s(c,a.params,a.cp)));return d+u}return u}}(Function("return this")()),function(e,t,s){"use strict";var a=s.Basic.moduleOpts.setParams;s.Basic.Constructors._repo.get("Gallery");a("Gallery",{options:{imageProps:["original","download","share_url","description","title","galleryId"],preloadDepth:2,_Handlers:{init:function(){setTimeout(function(){this.changeSet(0)}.bind(this))}}}})}(this.jQuery||this.$,this,this.ru.mail.cpf),function(e){"use strict";var t=e.Basic.moduleOpts.setParams,s=e.Basic.Extend,a=e.Basic.Constructors._repo.get("GalleryPreviews");t("GalleryPreviews",{acceptTypes:["Gallery"],initializer:function(e,t,r,i){return i&&"images"in i&&(e.imagesSet=r.addImagesSet(s(!0,{},i))),new a(e,t,r)},options:{cssSels:{Main:{Preview:".js-preview-list__item"}},cssClss:{currentPreview:"cols__column_thumb_active"},Attrs:{imageVersions:["data-original","data-preview"],imageProps:{description:"data-descr",title:"data-title"}}}}),t("GalleryPreviews.Article.Images",{options:{cssSels:{Main:{Preview:".js-preview-list__item"}}}}),t("GalleryPreviews.Article.Gallery",{options:{cssSels:{Main:{Preview:".js-preview-gallerylist__item"}}}})}(this.ru.mail.cpf),function(e,t){"use strict";var s=t.Basic.Constructors.getView,a=t.Basic.moduleOpts.setParams;t.Tools.initModule;s({_Init:function(){var t=this._Elems.Parent.data("PopupGalleryView"),s=this._Opts.backUrl,a=this._Opts.currentImg;t&&s&&t.on("hide",function(){this.showLoading(),requestAnimationFrame(function(){e.location=s+"#photo"},this._Elems.Parent)}),a&&(this._Model.changeSet(0),this._Model.changeImage(parseInt(a,10)))}},{currentImg:null,backUrl:null},null,"GalleryShot"),a("GalleryShot",{acceptTypes:"Gallery",paramAttrs:{currentImg:"data-current-id",backUrl:"data-redirect-url"}}),a("PopupGalleryView",{options:{showOnChange:!0}})}(this,this.ru.mail.cpf),function(e,t,s){"use strict";var a=s.Basic.moduleOpts.setParams,r=s.Tools.getTemplate;a("PopupGalleryView",{options:{cssSels:{Main:{imageView:".js-photo",imageNum:".js-photo_num",imagesTotal:".js-photos_cnt",previewsCont:".js-photo_slider",sizeCont:".js-photo_container",sharesCont:".js-photo_shares"},sizeReference:".js-size-reference",setProps:{title:".js-photo_title",note:".js-photo_note"}},cssClss:{Loading:"viewbox__slide_loading",Error:"viewbox__slide_error",hasPreviews:"viewbox_list",hideShares:"viewbox__slides_hide-shares"},templates:{block:r("ct-viewbox-popup.xml"),frames:r("ct-viewbox-slides.xml"),splash:r("ct-viewbox-more.xml")},setContSize:!1,showBanner:!0,imagesSet:null,imagesVersion:0,resizeView:!0,_Handlers:{model:{imageready:function(){var e=s.Tools.Counters.hitCntrsBlck,a=[];return function(s,r,i,n){if(s&&this._isTargetImage(i,n)&&this._Model.getCurrentImage().image===r&&this._state.visible){var o={};if(s.galleryId){if(-1===a.indexOf(s.galleryId))return void(a=a.concat([s.galleryId]));o.url=t.location.origin+"/virtual_gallery/"+s.galleryId}e(o)}}}()}}}}),a("PopupGalleryView.Article",{options:{_plugins:{Controls:!0,ImageViewSlider:!0,PopupImageSlider:!0,SliderPreviews:!0}}}),a("WritableGalleryPreviews.PopupGalleryView",{options:{previewsVersion:1,Templates:{previews:r("ct-viewbox-previews.xml")},cssSels:{Main:{previewsCont:".js-photo_slider_cont",Preview:".js-photo_preview"}},cssClss:{currentPreview:"viewbox__preview_active"}}}),a("Swipe.ImageViewSlider",{options:{}})}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){"use strict";s.Basic.moduleOpts.setParams}(jQuery,this,this.ru.mail.cpf),function(e,t,s){"use strict";var a=s.Basic.moduleOpts.setParams;a("GalleryControls.PopupGalleryView",{options:{cssSels:{Main:{Controls:".js-photo_ctrl"}},cssClss:{disabledControl:"hidden_all"}}})}(this.jQuery,this,this.ru.mail.cpf),function(e,t,s){"use strict";var a=s.Basic.moduleOpts.setParams,r=!0;a("Banner.PopupGalleryView",{options:{showOnInit:!1,minReloadDelay:2e3,bannerParams:{id:"1151",dataType:"rb"},hasPlaceForBanner:function(){return r?(r=!1,!1):!0}}})}(this.jQuery||this.$,this,this.ru.mail.cpf);
