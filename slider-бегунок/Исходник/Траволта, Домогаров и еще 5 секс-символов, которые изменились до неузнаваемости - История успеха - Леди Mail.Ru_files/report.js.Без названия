window.ru=window.ru||{},window.ru.mail=window.ru.mail||{},window.ru.mail.mpf=window.ru.mail.mpf||{},window.ru.mail.mpf.utils=window.ru.mail.mpf.utils||{},window.ru.mail.mpf.utils.RadarReport=function(r){function e(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return r[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t={};return e.m=r,e.c=t,e.p="/dist/",e(0)}([function(r,e,t){"use strict";var n=t(1);r.exports={createReporter:n.createReporter,version:"3.0.0"}},function(r,e,t){"use strict";function n(r){var e=window.location.origin;return r.split("\n").map(function(r){return c.trim(r).replace(e,"")})}function o(r){var e=r.logName,t=r.projectName,o=r.transportType,l=void 0===o?"img":o,d=r.errorKeyName,m=void 0===d?"jsError":d,p=s.getTransport(l),v=c.getHostName(i.APP_DEFAULTS)(t),g=function(r,n,o){var a=u.getPayload({projectName:t,logName:e,name:r},n,o),i=p(v,a);return{payload:a,uri:i}},w=function(){return{logName:e,projectName:t,uri:v}},h=function(r){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=f.normalizeError(r),o=window.location.href;try{throw t}catch(i){var u=a({r:o,m:i.message,s:n(i.stack||"")},e);return g(m,1,u)}},y=function(r){var e=arguments.length<=1||void 0===arguments[1]?function(r){return r}:arguments[1],t=window.addEventListener?"addEventListener":"attachEvent",n="addEventListener"===t?"":"on";r[t](n+"error",function(r){var t=r||window.event,n=f.normalizeError(t.error);e(r,h(n,{f:t.filename||"",l:t.lineno||"",c:t.colno||""}))})};return{captureException:h,watchForErrorOn:y,getParams:w,send:g}}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r};e.createReporter=o;var i=t(2),u=t(3),c=t(4),s=t(6),f=t(7)},function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.APP_DEFAULTS={protocol:"https",hostName:"radar.imgsmail.ru",url:"/update"},e.ERROR_DEFAULT={error:!0}},function(r,e,t){"use strict";function n(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return a.isEmpty(n)||(e[t]=n),e},{})}function o(r){var e=r.projectName,t=r.logName,o=void 0===t?null:t,a=r.name,u=void 0===a?"error":a,s=arguments.length<=1||void 0===arguments[1]?1:arguments[1],f=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],l={p:e,t:u,v:s,rnd:Math.random()};if(null!==o){l.rlog=o;var d={p:i.getPlatform(),d:n(f)};try{l.rlog_message=JSON.stringify(d)}catch(m){l.rlog_message=c}}return l}Object.defineProperty(e,"__esModule",{value:!0}),e.getPayload=o;var a=t(4),i=t(5),u=t(2),c=JSON.stringify(u.ERROR_DEFAULT)},function(r,e){"use strict";function t(r){var e=r.protocol,t=r.hostName,n=r.url;return function(r){return e+"://"+r+"."+t+n}}function n(r){return r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function o(r){return"undefined"==typeof r||null===r?!0:r.toString?0===n(r.toString()).length:!0}Object.defineProperty(e,"__esModule",{value:!0}),e.getHostName=t,e.trim=n,e.isEmpty=o},function(r,e){"use strict";function t(){var r=window.navigator.userAgent,e=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],t=e[1]||"",n=e[2]||"";if(/trident/i.test(e[1])){var o=/\brv[ :]+(\d+)/g.exec(navigator.userAgent);return null!==o?{n:"IE",v:o[1]}:{n:"IE",v:""}}if("Opera"===t){if(window.opera)return{n:"Opera",v:window.opera.version()};var a=r.match(/\bOPR\/([\d|\.]+)/);return{n:t,v:a[1]}}if("Safari"===t){var i=r.match(/Version\/([\d|\.]+)/i);return{n:t,v:i[1]||n}}return{n:t,v:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatform=t},function(r,e,t){"use strict";function n(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return i.isEmpty(n)?e:e.concat(t+"="+encodeURIComponent(n))},[]).join("&")}function o(r,e){var t=n(e);return r+"?"+t}function a(r){switch(r){case"dummy":return function(r,e){var t=o(r,e);return t};case"xhr":throw new u.MPFRadarReportError({message:"XHR: not implemented"});case"img":return function(r,e){var t=o(r,e),n=new Image;return n.src=t,t};case"fetch":default:return function(r,e,t){var n=o(r,e);return fetch(n,{mode:"no-cors"}),n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getTransport=a;var i=t(4),u=t(7)},function(r,e){"use strict";function t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function n(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function o(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function a(r){return r instanceof Error?r:new Error(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeError=a;e.MPFRadarReportError=function(r){function e(r){var o=r.message,a=void 0===o?"unknown error":o;t(this,e);var i=n(this,Object.getPrototypeOf(e).call(this,a));return i.name=i.constructor.name,Error.captureStackTrace?Error.captureStackTrace(i,i.constructor.name):i.stack=(new Error).stack,i}return o(e,r),e}(Error)}]),function(r,e,t){if(e){var n=r.utils.RadarReport.createReporter,o=n({logName:"jserror_lady_web",projectName:"lady",transportType:"img"});o.watchForErrorOn(window,function(){t&&console.warn("An error had been captured and sent to radar")})}}(this.ru.mail.mpf,!!this._logJsErrors,this.DEBUG);
